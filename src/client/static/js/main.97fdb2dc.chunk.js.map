{"version":3,"sources":["lib/enum/Education.ts","lib/enum/Ethnicity.ts","lib/enum/Language.ts","lib/enum/MiscType.ts","lib/enum/Occupation.ts","lib/enum/Religion.ts","lib/enum/SupportType.ts","reportWebVitals.ts","sections/SideBar/assets/logo-hoiNguoiMu.png","lib/graphql/queries/Members/index.ts","lib/graphql/queries/AuthUrl/index.ts","lib/graphql/queries/Member/index.ts","lib/graphql/queries/Organizations/index.ts","lib/graphql/queries/Organization/index.ts","lib/graphql/queries/Stats/index.ts","lib/graphql/queries/NumsByAge/index.ts","lib/graphql/queries/CustomCount/index.ts","sections/Page/utils/components/SelectOrganizations/index.tsx","sections/Page/utils/index.tsx","lib/graphql/globalTypes.ts","sections/SideBar/index.tsx","sections/Page/components/MembersTable/skeletons/PageSkeleton.tsx","sections/Page/components/MembersTable/components/Filters/index.tsx","sections/Page/components/MembersTable/components/MembersPagination/index.tsx","lib/utils/index.ts","sections/Page/components/MembersTable/index.tsx","lib/graphql/mutations/UpsertMember/index.ts","lib/graphql/mutations/DeleteMember/index.ts","sections/Page/utils/FormSkeleton.tsx","lib/graphql/mutations/HandleMessageFromClient/index.ts","sections/Page/components/Profile/components/TransferMemberModal/index.tsx","sections/Page/components/Profile/index.tsx","sections/Page/components/CreateUser/index.tsx","sections/Page/components/Statistics/components/AgeSlider/index.tsx","sections/Page/components/Statistics/components/JobsBarChart/index.tsx","sections/Page/components/Statistics/components/CustomCount/index.tsx","sections/Page/components/Statistics/components/BraillePieChart/index.tsx","sections/Page/components/Statistics/components/CustomRadarChart/index.tsx","sections/Page/components/Statistics/components/EducationsChart/index.tsx","sections/Page/components/Statistics/components/MaxOrgCard/index.tsx","sections/Page/components/Statistics/skeletons/PageSkeleton.tsx","sections/Page/components/Statistics/index.tsx","lib/graphql/mutations/UpdateOrganization/index.ts","sections/Page/components/EditOrganization/index.tsx","lib/graphql/mutations/LogIn/index.ts","lib/graphql/mutations/LogOut/index.ts","sections/AppHeader/index.tsx","sections/NotFound/index.tsx","sections/NotFound/assets/error-404.png","lib/graphql/queries/GetUserInfoFromMessage/index.ts","sections/NotificationsBox/components/Message/index.tsx","lib/graphql/queries/Messages/index.ts","sections/NotificationsBox/index.tsx","lib/bgColor.ts","sections/Page/components/MembersTable/components/DownloadButton/index.tsx","sections/Page/index.tsx","sections/LogIn/assets/google.svg","sections/LogIn/components/Loading/index.tsx","sections/LogIn/index.tsx","sections/LogIn/assets/logoHNM.jpg","sections/Register/assets/bg.jpg","sections/Pending/index.tsx","sections/Register/index.tsx","index.tsx"],"names":["Education","PostEducation","PoliticalEducation","GovernmentAgencyLevel","Ethnicity","Language","EyeCondition","Gender","BrailleComprehension","MarriageStatus","IncomeType","TrueFalse","Occupation","Religion","SupportType","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","MEMBERS","gql","AUTH_URL","MEMBER","QUERY_ORGANIZATIONS","QUERY_ORGANIZATION","QUERY_STATS","NUMS_BY_AGE","CUSTOM_COUNT","SelectOrganizations","selectState","setSelectState","config","useState","organizations","setOrganizations","useQuery","onCompleted","data","results","className","size","value","showSearch","placeholder","onChange","options","forEach","item","excludeId","_id","push","Option","name","specialPair","key","val","Select","Item","Form","getSelectOptionsFromEnum","Enum","fn","newFields","Object","keys","k","_","getWindowDimensions","window","width","innerWidth","height","innerHeight","ClientMessageAction","MessageType","ServerMessageAction","useWindowDimensions","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","cleanExcelData","values","result","Date","getFullYear","birthYear","obj","includes","map","split","join","EnumFields","createFormItem","validator","label","rules","required","message","toLowerCase","undefined","enum","toLocaleLowerCase","mode","v","nonBooleanFields","convertEnumTrueFalse","parseInt","SelectOrganizationsIfAdmin","FormItems","test","Number","Promise","resolve","reject","Error","match","organizationFormItems","getLabelFromName","fieldName","displaySentenceFromKeyVal","string","trim","numText","convertRomanToNumText","filterItems","Array","from","currentEnum","children","currentEnumKey","filter","SideBar","viewer","setIsOpen","changeSideBarState","style","backgroundColor","alt","src","logo","href","avatar","theme","marginTop","onClick","icon","DashboardOutlined","fontSize","to","UserOutlined","UserAddOutlined","EditOutlined","Header","Layout","Content","PageSkeleton","border","display","alignItems","marginLeft","borderRadius","padding","title","paragraph","rows","Filter","filterState","setFilterState","flexShrink","disabled","borderColor","FilterOutlined","color","paddingRight","MembersPagination","total","page","limit","setPage","simple","current","defaultPageSize","showLessItems","displaySuccessNotification","description","notification","placement","deleteKey","newObj","displayErrorMessage","error","Search","Input","MembersTable","searchState","setSearchState","searchData","setSearchData","organizationId","setOrganziationId","history","useHistory","variables","organization_id","fetchPolicy","loading","refetch","fetchRef","useRef","isAdmin","input","keyword","state","justifyContent","flexWrap","marginRight","onSearch","e","target","enterButton","paddingBottom","tableLayout","pagination","rowKey","member","id","rowClassName","isTransferring","onRow","columns","dataIndex","sorter","a","b","lastName","length","firstName","gender","dataSource","members","UPSERT_MEMBER","DELETE_MEMBER","FormSkeleton","ghost","onBack","headStyle","fontWeight","letterSpacing","WebkitBoxShadow","boxShadow","paddingLeft","fontFamily","bodyStyle","index","HANDLE_MESSSAGE","TransferMemberModal","modalVisible","setModalVisible","memberData","orga","params","useParams","useMutation","onError","err","handleMessage","handleMessageFromClient","goBack","visible","onOk","member_id","action","REQUEST","type","TRANSFER","from_id","to_organizationId","content","onCancel","flexDirection","Profile","fields","setFields","deleteMember","deleteMemberData","deleteMemberError","upsertMember","upsertData","upsertLoading","upsertError","fieldIdx","field","onFinish","old","new","extra","onFieldsChange","layout","htmlType","memberId","danger","CreateUser","useLazyQuery","getOrganizations","organizationsData","AgeSlider","numsByAge","NBAData","NBALoading","isSliding","setIsSliding","setGender","setState","ref","start","end","textTransform","Group","Button","range","defaultValue","onAfterChange","JobsBarChart","barChartData","job","population","sort","text","autoFit","scale","alias","Text","position","fill","lineHeight","textAlign","transpose","CustomCount","customCount","setCustomCount","countRes","setCountRes","categoryVal","getEnumValue","BraillePieChart","brailleData","pieChartData","titleText","titleDescription","radius","angleField","colorField","offset","CustomRadarChart","listOfData","DataView","DataSet","maxVal","finalData","_ids","newData","entry","entries","datum","processData","max","dv","source","transform","score","min","interactions","wrap","shared","shape","grid","line","EducationsChart","processedData","startAngle","Math","PI","endAngle","closed","showTitle","adjust","lineWidth","stroke","MaxOrgCard","setMaxOrgState","maxOrgState","TeamOutlined","maxHeight","active","brailleConfig","languagesConfig","socialWorksConfig","governConfig","Statistics","notifyOnNetworkStatusChange","networkStatus","getOrganization","orgData","NetworkStatus","getOrganizationsStats","totalMale","totalFemale","jobs","avgAge","totalBusCard","totalFWIT","totalDisabilityCert","totalMoreThan2Languages","medianEducation","medianIncome","medianReligion","minOrganization","maxOrganization","totalICP","totalHS","totalBMC","educations","postEducations","politicalEducations","governLevels","languages","socialWorkLevels","organization","address","mainStats","stat","BookOutlined","HomeOutlined","UPDATE_ORGANIZATION","EditOrganization","updateOrganization","updateData","updateLoading","updateError","paddingTop","LOG_IN","LOG_OUT","AppHeader","totalMessageLoading","displayNotification","setViewer","totalMessages","setDisplayNotification","isOpen","bellRef","logOut","sessionStorage","removeItem","changeState","zIndex","MenuFoldOutlined","MenuUnfoldOutlined","count","BellFilled","LogoutOutlined","NotFound","GET_USER_INFO_FROM_MESSAGE","Message","serverMessage","setMessage","totalMessageRefetch","fromId","fromOrganizationId","from_organizationId","getMessageUserInfoData","MessageUserInfoData","MessageUserInfoLoading","handleMessageClick","REGISTER","APPROVE_DECLINE","ref2","messages","messageUserInfo","getUserInfoFromMessage","INFO","DELETE","userName","email","organizationName","memberName","DECLINE","APPROVE","QUERY_MESSAGES","NotificationsBox","setMessages","avatars","setAvatars","viewerId","loadMessages","pollInterval","outRef","inRef","handleClickOutside","handleClickInside","wrapperRef","document","event","contains","gray","bgColor","DownloadButton","headers","formItem","filename","toISOString","slice","Page","setTotalMessages","footerCollapse","setFooterCollapse","totalMessageData","container","exact","path","gridColumn","gridRow","Loading","antIcon","LoadingOutlined","spin","indicator","Paragraph","Typography","LogIn","client","useApolloClient","logIn","logInData","logInLoading","logInError","console","log","logInRef","code","URL","location","searchParams","get","registering","handleAuthorize","query","authUrl","Pending","token","didRequest","Title","Register","handleMessageData","handleMessageLoading","handleMessageError","formState","setFormState","inputState","setInputState","formComplete","setFormComplete","word","bg","registeringPerson","orgId","level","httpLink","HttpLink","uri","authMiddleware","ApolloLink","operation","forward","getItem","setContext","ApolloClient","cache","InMemoryCache","link","concat","initialViewer","App","login","ReactDOM","render","ApolloProvider","getElementById"],"mappings":"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","file":"static/js/main.97fdb2dc.chunk.js","sourcesContent":["export enum Education {\r\n    Không = \"Không\",\r\n    Cấp_I = \"Cấp I\",\r\n    Cấp_II = \"Cấp II\",\r\n    Cấp_III = \"Cấp III\",\r\n}\r\n\r\nexport enum PostEducation {\r\n    Không = \"Không\",\r\n    Sơ_cấp = \"Sơ cấp\",\r\n    Trung_cấp = \"Trung cấp\",\r\n    Cao_đẳng = \"Cao đẳng\",\r\n    Đại_học = \"Đại học\",\r\n    Thạc_sĩ = \"Thạc sĩ\",\r\n    Tiến_sĩ = \"Tiến sĩ\",\r\n}\r\n\r\nexport enum PoliticalEducation {\r\n    Không = \"Không\",\r\n    Sơ_cấp = \"Sơ cấp\",\r\n    Trung_cấp = \"Trung cấp\",\r\n    Cao_cấp = \"Cao cấp\",\r\n}\r\n\r\nexport enum GovernmentAgencyLevel {\r\n    Không = \"Không\",\r\n    Sơ_cấp = \"Sơ cấp\",\r\n    Trung_cấp = \"Trung cấp\",\r\n    Cao_cấp = \"Cao cấp\",\r\n}","export enum Ethnicity {\r\n    Kinh = \"Kinh\",\r\n    Tày = \"Tày\",\r\n    Thái = \"Thái\",\r\n    Mường = \"Mường\",\r\n    Khmer = \"Khmer\",\r\n    Hoa = \"Hoa\",\r\n    Nùng = \"Nùng\",\r\n    HMông = \"H'Mông\",\r\n    Dao = \"Dao\",\r\n    Gia_Rai = \"Gia Rai\",\r\n    Ê_Đê = \"Ê Đê\",\r\n    Ba_Na = \"Ba Na\",\r\n    Sán_Chay = \"Sán Chay\",\r\n    Chăm = \"Chăm\",\r\n    Kơ_Ho = \"Kơ Ho\",\r\n    Xơ_Đăng = \"Xơ Đăng\",\r\n    Sán_Dìu = \"Sán Dìu\",\r\n    Hrê = \"Hrê\",\r\n    Ra_Glai = \"Ra Glai\",\r\n    Mnông = \"Mnông\",\r\n    Thổ = \"Thổ\",\r\n    Stiêng = \"Stiêng\",\r\n    Khơ_mú = \"Khơ mú\",\r\n    Bru = \"Bru - Vân Kiều\",\r\n    Cơ_Tu = \"Cơ Tu\",\r\n    Giáy = \"Giáy\",\r\n    Tà_Ôi = \"Tà Ôi\",\r\n    Mạ = \"Mạ\",\r\n    GiẻTriêng = \"Giẻ-Triêng\",\r\n    Co = \"Co\",\r\n    Chơ_Ro = \"Chơ Ro\",\r\n    Xinh_Mun = \"Xinh Mun\",\r\n    Hà_Nhì = \"Hà Nhì\",\r\n    Chu_Ru = \"Chu Ru\",\r\n    Lào = \"Lào\",\r\n    La_Chí = \"La Chí\",\r\n    Kháng = \"Kháng\",\r\n    Phù_Lá = \"Phù Lá\",\r\n    La_Hủ = \"La Hủ\",\r\n    La_Ha = \"La Ha\",\r\n    Pà_Thẻn = \"Pà Thẻn\",\r\n    Lự = \"Lự\",\r\n    Ngái = \"Ngái\",\r\n    Chứt = \"Chứt\",\r\n    Lô_Lô = \"Lô Lô\",\r\n    Mảng = \"Mảng\",\r\n    Cơ_Lao = \"Cơ Lao\",\r\n    Bố_Y = \"Bố Y\",\r\n    Cống = \"Cống\",\r\n    Si_La = \"Si La\",\r\n    Pu_Péo = \"Pu Péo\",\r\n    Rơ_Măm = \"Rơ Măm\",\r\n    Brâu = \"Brâu\",\r\n    Ơ_Đu = \"Ơ Đu\",\r\n}","export enum Language {\r\n    Không = \"Không\",\r\n    Anh = \"Anh\",\r\n    Trung = \"Trung\",\r\n    Hindi = \"Hindi\",\r\n    Tây_Ban_Nha = \"Tây Ban Nha\",\r\n    Pháp = \"Pháp\",\r\n    Ả_Rập = \"Ả Rập\",\r\n    Bengal = \"Bengal\",\r\n    Nga = \"Nga\",\r\n    Bồ_Đào_Nha = \"Bồ Đào Nha\",\r\n    Indonesia = \"Indonesia\",\r\n    Urdu = \"Urdu\",\r\n    Đức = \"Đức\",\r\n    Nhật = \"Nhật\",\r\n    Swahili = \"Swahili\",\r\n    Marathi = \"Marathi\",\r\n    Telugu = \"Telugu\",\r\n    Thổ_Nhĩ_Kì = \"Thổ Nhĩ Kì\",\r\n    Tamil = \"Tamil\",\r\n    Punjab = \"Punjab\",\r\n    Hàn = \"Hàn\",\r\n    Việt = \"Việt\",\r\n    Hausa = \"Hausa\",\r\n    Java = \"Java\",\r\n    Italia = \"Italia\",\r\n    Gujarat = \"Gujarat\",\r\n    Thái = \"Thái\",\r\n    Amhara = \"Amhara\",\r\n}","export enum EyeCondition {\r\n    Hỏng_2_mắt = \"Hỏng 2 mắt\",\r\n    Nhìn_mờ = \"Nhìn mờ\",\r\n}\r\n\r\nexport enum Gender {\r\n    Nam = \"Nam\",\r\n    Nữ = \"Nữ\",\r\n}\r\n\r\nexport enum BrailleComprehension {\r\n    Không = \"Không\",\r\n    M1 = \"M1\",\r\n    M2 = \"M2\"\r\n}\r\n\r\nexport enum MarriageStatus {\r\n    Đã_kết_hôn = \"Đã kết hôn\",\r\n    Độc_thân = \"Độc thân\",\r\n    Mẹ_đơn_thân = \"Mẹ đơn thân\", \r\n}\r\n\r\nexport enum IncomeType {\r\n    Nghèo = \"Nghèo\",\r\n    Cận_nghèo = \"Cận nghèo\",\r\n    Trung_bình = \"Trung bình\",\r\n    Khá = \"Khá\",\r\n    Giàu = \"Giàu\",\r\n}\r\n\r\nexport enum TrueFalse {\r\n    Có = \"Có\",\r\n    Không = \"Không\"\r\n}\r\n","export enum Occupation {\r\n    Không = \"Không\",\r\n    Nhân_viên_tẩm_quất = \"Nhân viên tẩm quất\",\r\n    Công_tác_xã_hội = \"Công tác xã hội\",\r\n    Cán_bộ_hội = \"Cán bộ hội\",\r\n    Giáo_viên = \"Giáo viên\",\r\n    Âm_nhạc = \"Âm nhạc\",\r\n    Kinh_doanh = \"Kinh doanh\",\r\n    Bán_hàng_Online = \"Bán hàng Online\",\r\n    Trực_điện_thoại = \"Trực điện thoại\",\r\n    Phiên_dịch = \"Phiên dịch\",\r\n    Chăn_nuôi = \"Chăn nuôi\",\r\n    Thủ_công = \"Thủ công\",\r\n    Nông_nghiệp = \"Nông nghiệp\",\r\n    Nghề_tự_do = \"Nghề tự do\",\r\n    Nghề_khác = \"Nghề khác\",\r\n    Học_sinh = \"Học sinh\",\r\n    Sinh_viên = \"Sinh viên\"\r\n}\r\n","export enum Religion {\r\n    Phật_giáo = \"Phật giáo\",\r\n    Công_giáo = \"Công giáo\",\r\n    Tin_Lành = \"Tin Lành\",\r\n    Cao_Đài = \"Cao Đài\",\r\n    Hồi_giáo = \"Hồi giáo\",\r\n    Baháí = \"Bahá'í\",\r\n    Chăm_Bà_la_môn = \"Chăm Bà la môn\",\r\n    Ky_Tô_giáo = \"Ky Tô giáo\",\r\n    Hiếu_Nghĩa_Tà_Lơn = \"Hiếu Nghĩa Tà Lơn\",\r\n    Cơ_đốc_Phục_lâm = \"Cơ đốc Phục lâm\",\r\n    Đạo_Bửu_Sơn_Kỳ_Hương = \"Đạo Bửu Sơn Kỳ Hương\",\r\n    Đạo_Tứ_Ân_Hiếu_Nghĩa = \"Đạo Tứ Ân Hiếu Nghĩa\",\r\n    Tịnh_độ_cư_sĩ_Phật_hội_Việt_Nam = \"Tịnh độ cư sĩ Phật hội Việt Nam\",\r\n    Hội_thánh_Minh_lý_đạo = \"Hội thánh Minh lý đạo - Tam Tông Miếu\",\r\n    Giáo_hội_Phật_đường_Nam_Tông_Minh_Sư_đạo = \"Giáo hội Phật đường Nam Tông Minh Sư đạo\",\r\n    Không=\"Không\"\r\n}","export enum SupportType {\r\n    Không = \"Không\",\r\n    Hưu_trí = \"Hưu trí\",\r\n    Thương_binh = \"Thương binh\",\r\n    Bệnh_binh = \"Bệnh binh\",\r\n    Trợ_cấp_xã_hội = \"Trợ cấp xã hội\",\r\n    Chất_độc_da_cam = \"Chất độc da cam\",\r\n    Tuất = \"Tuất\",\r\n    Khác = \"Khác\",\r\n}","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","export default \"data:image/png;base64,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\"","import { gql } from \"@apollo/client\";\r\n\r\nexport const MEMBERS = gql`\r\n    query Members (\r\n            $organizationId: String!,\r\n            $limit: Int!, \r\n            $page: Int!, \r\n            $input: SearchFilter)\r\n        {\r\n        members (\r\n            organizationId: $organizationId,\r\n            limit: $limit,\r\n            page: $page,\r\n            input: $input)\r\n        {\r\n            total\r\n            results {\r\n                id\r\n                firstName\r\n                lastName\r\n                birthYear\r\n                phone\r\n                gender\r\n                address \r\n                ethnicity \r\n                religion\r\n                occupation\r\n                isCommunistPartisan\r\n                marriage\r\n                eyeCondition\r\n                education\r\n                postEducation\r\n                politicalEducation\r\n                governmentAgencyLevel\r\n                brailleComprehension\r\n                languages\r\n                familiarWIT\r\n                healthInsuranceCard\r\n                disabilityCert\r\n                busCard\r\n                supportType\r\n                incomeType\r\n                socialWorkLevel\r\n                blindManageCert\r\n                organization_id\r\n                isTransferring\r\n            }\r\n        },\r\n    }\r\n`;\r\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const AUTH_URL = gql`\r\n    query AuthUrl {\r\n        authUrl\r\n    }\r\n`;","import { gql } from \"@apollo/client\";\r\n\r\nexport const MEMBER = gql`\r\n    query Member ($organizationId : String, $id : String!){\r\n        member (organizationId: $organizationId, id : $id) {\r\n                id\r\n                firstName\r\n                lastName\r\n                birthYear\r\n                phone\r\n                gender\r\n                address \r\n                ethnicity \r\n                religion\r\n                occupation\r\n                isCommunistPartisan\r\n                marriage\r\n                eyeCondition\r\n                education\r\n                postEducation\r\n                politicalEducation\r\n                governmentAgencyLevel\r\n                brailleComprehension\r\n                languages\r\n                familiarWIT\r\n                healthInsuranceCard\r\n                disabilityCert\r\n                busCard\r\n                supportType\r\n                incomeType\r\n                socialWorkLevel\r\n                blindManageCert\r\n                organization_id\r\n                isTransferring\r\n                yearJoin\r\n        },\r\n}\r\n`;\r\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const QUERY_ORGANIZATIONS = gql`\r\n    query Organizations {\r\n        organizations { \r\n            total\r\n            results {\r\n                _id\r\n                name\r\n                address\r\n            } \r\n        }\r\n    }\r\n`;","import { gql } from '@apollo/client';\r\n\r\nexport const QUERY_ORGANIZATION = gql`\r\n    query Organization ($organizationId : String!) {\r\n        organization(organizationId: $organizationId) {\r\n            name \r\n            address\r\n            phone\r\n        }\r\n    }`;","import { gql } from \"@apollo/client\";\r\n\r\nexport const QUERY_STATS = gql`\r\n    query GetOrganizationsStats ($organizationId : String){\r\n        getOrganizationsStats (organizationId: $organizationId) {\r\n            total\r\n            totalMale\r\n            totalFemale\r\n            avgAge\r\n            totalBusCard\r\n            totalFWIT\r\n            totalDisabilityCert\r\n            totalICP\r\n            totalHS\r\n            totalBMC\r\n            totalMoreThan2Languages \r\n            medianIncome {\r\n                _id \r\n                value\r\n            }\r\n            maxOrganization {\r\n                _id \r\n                value\r\n            }\r\n            minOrganization {\r\n               _id\r\n               value\r\n            }\t\r\n            medianReligion {\r\n                _id \r\n                value\r\n            }\r\n            medianEducation {\r\n                _id \r\n                value\r\n            }\r\n            jobs {\r\n                _id \r\n                value\r\n            }\r\n            brailleData {\r\n                _id \r\n                value\r\n            }\r\n            educations {\r\n                _id \r\n                value\r\n            }\r\n            politicalEducations {\r\n                _id \r\n                value\r\n            }\r\n            governLevels {\r\n                _id \r\n                value\r\n            }\t\r\n            languages {\r\n                _id \r\n                value\r\n            }\r\n            postEducations {\r\n                _id \r\n                value\r\n            }\r\n            socialWorkLevels {\r\n                _id\r\n                value\r\n            }\r\n        }\r\n  }\r\n`;","import { gql } from \"@apollo/client\";\r\n\r\nexport const NUMS_BY_AGE = gql`\r\n    query NumsByAge($organizationId : String, $gender: String!, $start: Int!, $end: Int!) {\r\n        numsByAge(organizationId: $organizationId, gender: $gender, start: $start, end: $end)\r\n    }\r\n`;","import { gql } from \"@apollo/client\";\r\nexport const CUSTOM_COUNT = gql`\r\n    query CustomCount($organizationId : String, $input: FilterArgs!) {\r\n        customCount(organizationId: $organizationId, input: $input)\r\n    }\r\n`;","import { useQuery } from \"@apollo/client\"\r\nimport { QUERY_ORGANIZATIONS } from \"../../../../../lib/graphql/queries\";\r\nimport { Organizations as OrganizationsData } from \"../../../../../lib/graphql/queries/Organizations/__generated__/Organizations\";\r\nimport { Select } from \"antd\";\r\nimport { useState } from \"react\";\r\n\r\ninterface Props {\r\n    setSelectState : any;\r\n    selectState : any;\r\n    config ?: any;\r\n}\r\nexport const SelectOrganizations = ({ selectState, setSelectState, config } : Props) => {\r\n    const [organizations, setOrganizations] = useState<any>([])\r\n    useQuery<OrganizationsData>(QUERY_ORGANIZATIONS, {\r\n        onCompleted: data => setOrganizations(data.organizations.results)\r\n    })\r\n\r\n    return <Select\r\n                className={config.className}\r\n                size={config.size ? config.size : \"large\"}\r\n                value={selectState}\r\n                showSearch={true}\r\n                placeholder={`Chọn thành viên đã có`}\r\n                onChange={ value => setSelectState(value)}\r\n            >\r\n                { (() => {\r\n                    const options : any[] = []\r\n                    organizations &&\r\n                        organizations.forEach(\r\n                            (item : any) => {\r\n                                if(config.excludeId) {\r\n                                    if (item._id !== config.excludeId) {\r\n                                        options.push(<Select.Option key={item._id} value={item._id}>{item.name}</Select.Option>)\r\n                                    }\r\n                                } else {\r\n                                    options.push(<Select.Option key={item._id} value={item._id}>{item.name}</Select.Option>)\r\n                                }\r\n                            }\r\n                        )\r\n\r\n                    if (config.specialPair)  {\r\n                        const [key, val] = config.specialPair;\r\n                        options.push(<Select.Option key={key} value={key}>{val}</Select.Option>)\r\n                    }\r\n                    return options\r\n                    })() //Create func above and call the func here\r\n                }\r\n            </Select>\r\n\r\n}","import { Form, Select, Input, Divider } from \"antd\";\r\nimport { useState, useEffect } from 'react';\r\nimport * as Enum from \"../../../lib/enum\";\r\nexport * from \"./components\";\r\n\r\n\r\n//Notes: the enums used here are not generated from global types via graphql because the value is different than the enum's element's name\r\nconst { Option } = Select;\r\nconst { Item } = Form;\r\n\r\n\r\nexport const getSelectOptionsFromEnum = (Enum : any, fn : any) =>  {\r\n    const newFields : any[] = [] \r\n    Object.keys(Enum).forEach((k, _) => {\r\n        newFields.push(fn(k, Enum[k]));\r\n    })\r\n    return newFields;\r\n}\r\n\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\n//https://stackoverflow.com/questions/36862334/get-viewport-window-height-in-reactjs\r\nexport const useWindowDimensions = () => {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}\r\n\r\n//https://stackoverflow.com/questions/32553158/detect-click-outside-react-component\r\nexport const useOutsideAlerter = (ref : any, func : any) => {\r\n    useEffect(() => {\r\n        /**\r\n         * Alert if clicked on outside of element\r\n         */\r\n        function handleClickOutside(event : any) {\r\n            if (ref.current && !ref.current.contains(event.target)) {\r\n                func()\r\n            }\r\n        }\r\n\r\n        // Bind the event listener\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            // Unbind the event listener on clean up\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, [ref, func]);\r\n}\r\n\r\nexport const useOverlapAlerter = (outRef : any, inRef : any, handleClickOutside : any, handleClickInside:any) => {\r\n    //Refs only apply for div tag having class name\r\n    useEffect(() => {\r\n        /**\r\n         * Alert if clicked on outside of element\r\n         */\r\n        function handleOverlapClick(event : any) {\r\n            if (outRef.current && outRef.current.contains(event.target)) {\r\n                //Do nothing and wait for user to click buttons inside\r\n            } else {\r\n                if (inRef.current && !inRef.current.contains(event.target) && outRef.current) {\r\n                    if (!outRef.current.contains(event.target)) {\r\n                        handleClickOutside() //Child is not clicked, should turn off here\r\n                    } else {\r\n                        handleClickInside() //Child is clicked, should turn on here\r\n                    }\r\n                } \r\n            }\r\n\r\n\r\n        }\r\n\r\n        // Bind the event listener\r\n        document.addEventListener(\"mousedown\", handleOverlapClick);\r\n        return () => {\r\n            // Unbind the event listener on clean up\r\n            document.removeEventListener(\"mousedown\", handleClickInside);\r\n        };\r\n    }, [outRef, inRef, handleClickOutside, handleClickInside]);\r\n}\r\n\r\n\r\nexport const cleanExcelData = (values: any) => {\r\n    const result : any[] = []\r\n    for (const data of values) {\r\n        //Only download people more than age 15\r\n        if ((new Date().getFullYear()) - data.birthYear  < 16) continue;\r\n\r\n        const obj = {};\r\n        Object.keys(data).forEach( (k, _) : void => {\r\n            let value = data[k];\r\n            //These are the categories that have Không but not return boolean\r\n            if ([\"languages\"].includes(k)) {\r\n                value = value.map((value : string) => value.split(\"_\").join(\" \"))\r\n            } else if (k === \"phone\") {\r\n                value = value === \"\" || !value ? \"\" : `\\t${value}`; //Tab works\r\n            }\r\n            else if (EnumFields.includes(k))  {\r\n                value = value.split(\"_\").join(\" \")\r\n                //Do nothing\r\n            } else {\r\n                if (value === true) {\r\n                    value = \"Có\"\r\n                } else if (value === false) {\r\n                    value = \"Không\"\r\n                } \r\n            }\r\n            //@ts-expect-error it's a string\r\n            obj[k] = value\r\n        })\r\n\r\n        result.push(obj)\r\n    }\r\n\r\n    return result\r\n}\r\n\r\nexport const createFormItem = ( obj: any ) => {\r\n    //Add some default properties\r\n    obj.showSearch = obj.showSearch || false;\r\n\r\n    if (!obj.validator) {\r\n        obj.validator = []\r\n    }\r\n\r\n    return (\r\n        <div key={obj.label}>\r\n            <Item key={obj.label + obj.name} label={obj.label} name={obj.name} rules={\r\n                [\r\n                    {\r\n                        required: obj.required === false ? false : true,\r\n                        message: `Điền ${obj.label.toLowerCase()}`\r\n                    },\r\n                    ...obj.validator\r\n                ]\r\n            }>\r\n                { (obj.enum === undefined) ? <Input key={obj.label + obj.name} /> : \r\n                    <Select\r\n                        key={obj.name + obj.label}\r\n                        showSearch={obj.showSearch}\r\n                        placeholder={`Điền ${obj.label.toLocaleLowerCase()}`}\r\n                        mode={obj.mode ? \"multiple\" : obj.mode}\r\n                    >\r\n                        {getSelectOptionsFromEnum(\r\n                            obj.enum,\r\n                            (k : any, v : string) => \r\n                            <Option key={k + v} value={k}>{v}</Option>\r\n                        )}\r\n                    </Select>\r\n                }\r\n            </Item>\r\n            <Divider />\r\n        </div>\r\n    )\r\n}\r\n\r\n//These are fields with \"Khong\" but have other things rather than just \"Khong\" and \"Co\"\r\nexport const nonBooleanFields = [\r\n    \"occupation\", \r\n    \"supportType\", \r\n    \"religion\", \r\n    \"brailleComprehension\",\r\n    \"education\",\r\n    \"postEducation\",\r\n    \"politicalEducation\",\r\n    \"governmentAgencyLevel\",\r\n    \"socialWorkLevel\",\r\n    \"languages\"\r\n]\r\n\r\nexport const EnumFields = [\r\n    \"eyeCondition\", \r\n    \"ethnicity\", \r\n    \"eyeCondition\", \r\n    \"marriage\", \r\n    \"incomeType\",\r\n    ...nonBooleanFields\r\n]\r\n\r\n\r\nexport const convertEnumTrueFalse = (values: any) => {\r\n    //Convert TrueFalse enum to true false\r\n    Object.keys(values).forEach( (k, _) : void => {\r\n        let value = values[k];\r\n\r\n        //These are the categories that have Không but not return boolean\r\n        if (nonBooleanFields.includes(k))  {\r\n            //Do nothing\r\n        } else {\r\n            if (value === \"Có\") {\r\n                value = true\r\n            } else if (value === \"Không\") {\r\n                value = false\r\n            } \r\n        }\r\n\r\n\r\n        if ([\"birthYear\", \"yearJoin\"].includes(k)) \r\n        value = parseInt(value) \r\n        values[k] = value;\r\n    })\r\n\r\n    return values;\r\n}\r\n\r\nexport const SelectOrganizationsIfAdmin = (organizations : any) => {\r\n        return <>\r\n            <Item \r\n                className=\"select-organization\"\r\n                key=\"organization_id\" \r\n                label=\"Thành viên hiện tại\"\r\n                name=\"organization_id\"\r\n                rules={\r\n                [\r\n                    {\r\n                        required: true,\r\n                        message: `Chọn thành viên`\r\n                    }\r\n                ]\r\n                }\r\n            >\r\n                <Select\r\n                    showSearch={true}\r\n                    placeholder={`Điền tên thành viên`}\r\n                >\r\n                    { (() => {\r\n                        const options : any[] = []\r\n                        organizations &&\r\n                            organizations.forEach(\r\n                                (item : any) => {\r\n                                    options.push(<Select.Option key={item._id + item.name} value={item._id}>{item.name}</Select.Option>)\r\n                                }\r\n                            )\r\n\r\n                        return options\r\n                        })() //Create func above and call the func here\r\n                    }\r\n                </Select>\r\n        </Item>\r\n        <Divider />\r\n        </>\r\n}\r\n\r\nexport const FormItems = [\r\n    { \r\n        label : \"Họ\",\r\n        name: \"lastName\",\r\n    }, \r\n    { \r\n        label : \"Tên đệm và tên\",\r\n        name: \"firstName\",\r\n    }, \r\n    { \r\n        label : \"Năm sinh\",\r\n        name: \"birthYear\",\r\n        validator: [\r\n            () => ({\r\n                validator(_ : any, value : string) {\r\n                    if (/^\\d{4}$/.test(value)) {\r\n                        if (Number.parseInt(value) >= 1900 && Number.parseInt(value) <= new Date().getFullYear()) {\r\n                            return Promise.resolve();\r\n                        } else {\r\n                            return Promise.reject(new Error('Năm sinh của bạn phải trong khoảng từ 1900 đến năm hiện tại'));\r\n                        }\r\n                    }\r\n\r\n                    return Promise.reject(new Error('Hãy điền năm sinh chính xác'));\r\n\r\n                },\r\n            }) \r\n        ]\r\n    }, \r\n    { \r\n        label : \"Năm vào hội\",\r\n        name: \"yearJoin\",\r\n        validator: [\r\n            () => ({\r\n                validator(_ : any, value : string) {\r\n                    if (/^\\d{4}$/.test(value)) {\r\n                        if (Number.parseInt(value) >= 1900 && Number.parseInt(value) <= new Date().getFullYear()) {\r\n                            return Promise.resolve();\r\n                        } else {\r\n                            return Promise.reject(new Error('Năm vào hội không hợp lệ'));\r\n                        }\r\n                    }\r\n\r\n                    return Promise.reject(new Error('Hãy điền năm sinh chính xác'));\r\n\r\n                },\r\n            }) \r\n        ]\r\n    }, \r\n    { \r\n        label : \"Số điện thoại\",\r\n        name: \"phone\",\r\n        required: false,\r\n        validator: [\r\n            () => ({\r\n                validator(_ : any, value : any) {\r\n                    return (value && value.match(/^\\d{8,12}$/)) || !value ?  Promise.resolve() : Promise.reject(new Error('Hãy điền số điện thoại trong khoảng 8 - 12 số '));\r\n                },\r\n            }) \r\n        ]\r\n    },\r\n    { \r\n        label : \"Địa chỉ\",\r\n        name: \"address\",\r\n    },\r\n    { \r\n        label : \"Giới tính\",\r\n        name: \"gender\",\r\n        enum: Enum.Gender,\r\n    },\r\n    { \r\n        label : \"Dân tộc\",\r\n        name: \"ethnicity\",\r\n        enum: Enum.Ethnicity,\r\n        showSearch: true\r\n    },\r\n    { \r\n        label : \"Tôn giáo\",\r\n        name: \"religion\",\r\n        enum: Enum.Religion,\r\n        showSearch: true\r\n    },\r\n    { \r\n        label : \"Nghề nghiệp\",\r\n        name: \"occupation\",\r\n        enum: Enum.Occupation,\r\n        showSearch: true\r\n    },\r\n    { \r\n        label : \"Đảng Viên\",\r\n        name: \"isCommunistPartisan\",\r\n        enum: Enum.TrueFalse\r\n    },\r\n    { \r\n        label : \"Tình trạng hôn nhân\",\r\n        name: \"marriage\",\r\n        enum: Enum.MarriageStatus\r\n    },\r\n    { \r\n        label : \"Tình trạng thị lực\",\r\n        name: \"eyeCondition\",\r\n        enum: Enum.EyeCondition,\r\n    },\r\n    { \r\n        label : \"Trình độ học vấn\",\r\n        name: \"education\",\r\n        enum: Enum.Education,\r\n    },\r\n    { \r\n        label : \"Trình độ chuyên môn\",\r\n        name: \"postEducation\",\r\n        enum: Enum.PostEducation,\r\n    },\r\n    { \r\n        label : \"Trình độ chính trị\",\r\n        name: \"politicalEducation\",\r\n        enum: Enum.PoliticalEducation\r\n    },\r\n    { \r\n        label : \"Trình độ quản lý nhà nước\",\r\n        name: \"governmentAgencyLevel\",\r\n        enum: Enum.GovernmentAgencyLevel\r\n    },\r\n    { \r\n        label : \"Trình độ nghề công tác xã hội\",\r\n        name: \"socialWorkLevel\",\r\n        enum: Enum.PostEducation, //Same with post edu\r\n    },\r\n    { \r\n        label : \"Trình độ chữ nổi\",\r\n        name: \"brailleComprehension\",\r\n        enum: Enum.BrailleComprehension\r\n    },\r\n    { \r\n        label : \"Trình độ ngoại ngữ\",\r\n        name: \"languages\",\r\n        enum: Enum.Language, \r\n        showSearch: true,\r\n        mode: \"tag\"\r\n    },\r\n    { \r\n        label : \"Chứng chỉ nghiệp vụ quản lý hội\",\r\n        name: \"blindManageCert\",\r\n        enum: Enum.TrueFalse, //Same with post edu\r\n    },\r\n    { \r\n        label : \"Sử dụng tin học\",\r\n        name: \"familiarWIT\",\r\n        enum: Enum.TrueFalse\r\n    },\r\n    { \r\n        label : \"Giấy chứng nhận khuyết tật\",\r\n        name: \"disabilityCert\",\r\n        enum: Enum.TrueFalse\r\n    },\r\n    { \r\n        label : \"Thẻ bảo hiểm y tế\",\r\n        name: \"healthInsuranceCard\",\r\n        enum: Enum.TrueFalse\r\n    },\r\n    { \r\n        label : \"Thẻ xe bus\",\r\n        name: \"busCard\",\r\n        enum: Enum.TrueFalse\r\n    },\r\n    { \r\n        label : \"Chế độ đang hưởng\",\r\n        name: \"supportType\",\r\n        enum: Enum.SupportType,\r\n        showSearch: true\r\n    },\r\n    { \r\n        label : \"Đời sống gia đình\",\r\n        name: \"incomeType\",\r\n        enum: Enum.IncomeType\r\n    },\r\n] \r\n\r\n\r\nexport const organizationFormItems = [\r\n    {\r\n        label: \"Tên thành viên\",\r\n        name: \"name\",\r\n        required: true\r\n    },\r\n    {\r\n        label: \"Địa chỉ\",\r\n        name: \"address\",\r\n        required: false\r\n    },\r\n    {\r\n        label: \"Số điện thoại\",\r\n        name: \"phone\",\r\n        required: false,\r\n        validator: [\r\n            () => ({\r\n                validator(_ : any, value : any) {\r\n                    return value === null || value.match(/^\\d{8,12}$/) ?  Promise.resolve() : Promise.reject(new Error('Hãy điền số điện thoại trong khoảng 8 - 12 số '));\r\n                },\r\n            }) \r\n        ]\r\n    }\r\n]\r\n\r\nexport const getLabelFromName = (fieldName: any) => {\r\n    for (const item of FormItems) {\r\n        if (fieldName === item.name) {\r\n            return item.label;\r\n        }\r\n    }\r\n    \r\n    return \"Không tồn tại\" //Not found\r\n}\r\n\r\nexport const convertRomanToNumText = (string: string) => {\r\n    const [val, roman] = string.trim().split(\" \");\r\n    let numText = \"\";\r\n    switch (roman) {\r\n        case \"iii\":\r\n            numText = \"ba\"\r\n            break;\r\n        case \"ii\":\r\n            numText = \"hai\"\r\n            break;\r\n        case \"i\":\r\n            numText = \"một\"\r\n            break;\r\n    }\r\n\r\n    return `${val} ${numText}`\r\n}\r\n\r\nexport const displaySentenceFromKeyVal = (key: any, val: any) => {\r\n    let label = \"\"\r\n    switch (key) {\r\n        case \"incomeType\":\r\n            return `có ${getLabelFromName(key)} ${val}`.toLowerCase();\r\n        case \"supportType\":\r\n            if (val === \"Không\") return `không được hưởng chế độ hỗ trợ`.toLowerCase();\r\n            return `đang hưởng chế độ hỗ trợ ${val}`.toLowerCase();\r\n        case \"busCard\":\r\n        case \"healthInsuranceCard\":\r\n        case \"disabilityCert\":\r\n            label = getLabelFromName(key)\r\n            if (val === \"Không\") return `không có ${label}`.toLowerCase();\r\n            return `có ${label}`.toLowerCase();\r\n        case \"familiarWIT\":\r\n            label = getLabelFromName(key)\r\n            if (val === \"Không\") return `không biết ${label}`.toLowerCase();\r\n            return `biết ${label}`.toLowerCase();\r\n        case \"languages\":\r\n            label = getLabelFromName(key)\r\n            if (val === \"Không\") return `không có ${label}`.toLowerCase();\r\n            return `biết tiếng ${val}`\r\n        case \"brailleComprehension\":\r\n            label = getLabelFromName(key)\r\n            if (val === \"Không\") return `không có ${label}`.toLowerCase();\r\n            return `có ${label.toLowerCase()} ${val}`\r\n        case \"education\":\r\n            label = getLabelFromName(key)\r\n            if (val === \"Không\") return `không có ${label}`.toLowerCase();\r\n            return `có ${label.toLowerCase()} ${convertRomanToNumText(val.toLowerCase())}`\r\n        case \"postEducation\":\r\n        case \"politicalEducation\":\r\n        case \"governmentAgencyLevel\":\r\n            label = getLabelFromName(key)\r\n            if (val === \"Không\") return `không có ${label}`.toLowerCase();\r\n            return `có ${label.toLowerCase()} ${val.toLowerCase()}`\r\n        case \"eyeCondition\":\r\n            return `${val} ${label}`.toLowerCase();\r\n        case \"marriage\":\r\n            if (val === \"Mẹ đơn thân\") return `là ${val}`.toLowerCase();\r\n            return `${val.toLowerCase()}`\r\n        case \"isCommunistPartisan\":\r\n            label = getLabelFromName(key)\r\n            if (val === \"Không\") return `không là ${label}`.toLowerCase();\r\n            return `là ${label}`.toLowerCase();\r\n        case \"occupation\":\r\n            label = getLabelFromName(key)\r\n            if (val === \"Không\") return `không có ${label}`.toLowerCase();\r\n            return `làm ${val.toLowerCase()}`\r\n        case \"religion\":\r\n            label = getLabelFromName(key)\r\n            if (val === \"Không\") return `không theo ${label}`.toLowerCase();\r\n            return `theo ${val}`\r\n        case \"ethnicity\":\r\n            label = getLabelFromName(key)\r\n            return `thuộc dân tộc ${val}`\r\n        case \"gender\":\r\n            return `là ${val}`.toLowerCase();\r\n    }\r\n    return \"\"\r\n}\r\n\r\n\r\nexport const getEnumValue = (fieldName: any, value : any) => {\r\n    for (const item of FormItems) {\r\n        if (fieldName === item.name) {\r\n            //@ts-expect-error\r\n            return item.enum[value];\r\n        }\r\n    }\r\n}\r\n\r\nexport const filterItems = Array.from(FormItems).map(\r\n    (item : any) => {\r\n        if (item.enum) {\r\n            const currentEnum = item.enum;\r\n            const obj = {\r\n                label: item.label,\r\n                value: item.name,\r\n                children: Array.from(Object.keys(currentEnum)).map((currentEnumKey) => {\r\n                    const currentEnumValue = currentEnum[currentEnumKey];\r\n                    const childObj = {\r\n                        label: currentEnumValue, //Sounds reverse because enum key cannot have space character\r\n                        value: currentEnumKey\r\n                    }\r\n\r\n                    return childObj;\r\n                })\r\n            }\r\n\r\n            return obj;\r\n        } else {\r\n            return {\r\n                label: \"None\",\r\n                value: \"None\"\r\n            }\r\n        }\r\n\r\n    }\r\n).filter(item => item.label !== \"None\")\r\n\r\n","/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum ClientMessageAction {\n  APPROVE_DECLINE = \"APPROVE_DECLINE\",\n  INFO = \"INFO\",\n}\n\nexport enum MessageType {\n  REGISTER = \"REGISTER\",\n  TRANSFER = \"TRANSFER\",\n}\n\nexport enum ServerMessageAction {\n  APPROVE = \"APPROVE\",\n  DECLINE = \"DECLINE\",\n  DELETE = \"DELETE\",\n  REQUEST = \"REQUEST\",\n}\n\nexport interface ClientMessage {\n  action: ServerMessageAction;\n  type: MessageType;\n  from_id: string;\n  to_id?: string | null;\n  to_organizationId: string;\n  content: string;\n}\n\nexport interface FilterArgs {\n  gender?: string | null;\n  ethnicity?: string | null;\n  religion?: string | null;\n  occupation?: string | null;\n  isCommunistPartisan?: boolean | null;\n  marriage?: string | null;\n  eyeCondition?: string | null;\n  education?: string | null;\n  postEducation?: string | null;\n  politicalEducation?: string | null;\n  governmentAgencyLevel?: string | null;\n  brailleComprehension?: string | null;\n  languages?: string | null;\n  familiarWIT?: boolean | null;\n  healthInsuranceCard?: boolean | null;\n  disabilityCert?: boolean | null;\n  busCard?: boolean | null;\n  supportType?: string | null;\n  incomeType?: string | null;\n  blindManageCert?: boolean | null;\n  socialWorkLevel?: string | null;\n  yearJoin?: number | null;\n}\n\nexport interface InputMember {\n  firstName: string;\n  lastName: string;\n  birthYear: number;\n  phone?: string | null;\n  gender: string;\n  address: string;\n  ethnicity: string;\n  religion: string;\n  occupation: string;\n  isCommunistPartisan: boolean;\n  marriage: string;\n  eyeCondition: string;\n  education: string;\n  postEducation: string;\n  politicalEducation: string;\n  governmentAgencyLevel: string;\n  brailleComprehension: string;\n  languages: string[];\n  familiarWIT: boolean;\n  healthInsuranceCard: boolean;\n  disabilityCert?: boolean | null;\n  busCard: boolean;\n  supportType: string;\n  incomeType: string;\n  blindManageCert: boolean;\n  socialWorkLevel: string;\n  organization_id: string;\n  isTransferring?: boolean | null;\n  yearJoin?: number | null;\n}\n\nexport interface LogInInput {\n  code: string;\n}\n\nexport interface OrganizationInput {\n  name?: string | null;\n  address?: string | null;\n  phone?: string | null;\n}\n\nexport interface SearchFilter {\n  keyword?: string | null;\n  filter?: FilterArgs | null;\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","import { Menu } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Viewer } from \"../../lib\";\r\nimport { EditOutlined, UserOutlined, UserAddOutlined, DashboardOutlined  } from \"@ant-design/icons\";\r\n\r\n//Will be changed or deleted\r\nimport logo from \"./assets/logo-hoiNguoiMu.png\";\r\nimport { useWindowDimensions } from \"../Page/utils\";\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setIsOpen: any\r\n}\r\n\r\n\r\nexport const SideBar = ({ viewer, setIsOpen } : Props) => {\r\n\r\n    const { width } = useWindowDimensions();\r\n    const changeSideBarState = () => {\r\n      if (width < 1500) {\r\n        setIsOpen(false)\r\n      }\r\n    }\r\n    return (\r\n        <aside style={{backgroundColor: \"white\"}}> \r\n              <div className=\"sider__user-logo-container\">\r\n                  <img alt=\"anh logo\" \r\n                    src={logo}\r\n                  />\r\n              </div>\r\n                <div className=\"sider__user-tag-container\">\r\n                  <a className=\"sider__user-tag\" href=\"/members\">\r\n                    <div className=\"sider__user-tag-img-container\">\r\n                      <img alt=\"anh dai dien tu google\" \r\n                        src={viewer.avatar || logo}\r\n                      />\r\n                    </div>\r\n                    <div className=\"sider__user-tag-text\">\r\n                      {viewer.name}\r\n                    </div>\r\n                  </a>\r\n                </div>\r\n          <Menu \r\n            theme=\"light\" \r\n            mode=\"inline\" \r\n            style={{marginTop: 30}} \r\n            className=\"sider__menu\"\r\n          > \r\n            <Menu.Item \r\n              onClick={() => changeSideBarState()}\r\n              key=\"1\" \r\n              icon={<DashboardOutlined \r\n                  style={{\r\n                      fontSize: \"150%\",\r\n                  }}\r\n              />}>\r\n              <Link to=\"/summary\" >\r\n                Thống kê\r\n              </Link>\r\n            </Menu.Item>\r\n            <Menu.Item \r\n              onClick={ () => changeSideBarState()}\r\n              key=\"2\" \r\n              icon={<UserOutlined \r\n                  style={{\r\n                      fontSize: \"150%\",\r\n                  }}\r\n              />}\r\n            >\r\n              <Link to=\"/members\" >\r\n                Quản lý\r\n              </Link>\r\n            </Menu.Item>\r\n            <Menu.Item \r\n              onClick={() => changeSideBarState()}\r\n              key=\"3\" \r\n              icon={<UserAddOutlined \r\n                style={{\r\n                    fontSize: \"150%\",\r\n                }}\r\n              />}\r\n            >\r\n              <Link to=\"/createUser\" >\r\n                Tạo hội viên\r\n              </Link>\r\n            </Menu.Item>\r\n            <Menu.Item \r\n              onClick={() => changeSideBarState()}\r\n              key=\"4\" \r\n              icon={<EditOutlined \r\n                style={{\r\n                    fontSize: \"150%\",\r\n                }}\r\n              />}\r\n            >\r\n              <Link to=\"/editOrganization\" >\r\n                Thành viên\r\n              </Link>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </aside>\r\n    )\r\n}","import { Layout, Skeleton } from \"antd\"\r\n\r\nconst { Header, Content } = Layout;\r\n\r\nexport const PageSkeleton = () => {\r\n\r\n    return <Layout className=\"members-table-layout\">\r\n                    <Header \r\n                        style={{\r\n                            backgroundColor: \"white\",\r\n                            border: \"none\",\r\n                            height: 80,\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                        }}\r\n                        >\r\n                        <div\r\n                            style={{\r\n                                marginLeft: -20,\r\n                                borderRadius: 4,\r\n                                width: 200\r\n                            }}\r\n                        >\r\n                            {/* <Skeleton \r\n                                title={false}\r\n                                paragraph={{\r\n                                    rows : 1,\r\n                                }}\r\n                            />  */}\r\n                        </div>\r\n                    </Header>\r\n                    <Content\r\n                        style={{\r\n                            backgroundColor: \"white\",\r\n                            border: \"none\",\r\n                            padding: 20\r\n                        }}\r\n                    >\r\n                        <Skeleton \r\n                            className=\"members-skeleton\"\r\n                            title={false}\r\n                            paragraph={{\r\n                                rows : 5 + 1, //1 is the table header\r\n                            }}\r\n                        /> \r\n                    </Content>\r\n                </Layout>\r\n}","import { Cascader, Button } from \"antd\";\r\nimport { FilterOutlined } from \"@ant-design/icons\";\r\nimport { filterItems } from \"../../../../utils\";\r\nimport { CascaderValueType } from \"antd/lib/cascader\";\r\n\r\ninterface Props {\r\n    filterState : CascaderValueType | undefined;\r\n    setFilterState : (value : any) => void;\r\n};\r\n\r\nexport const Filter = ({ filterState, setFilterState} : Props)  => {\r\n\r\n    const onChange = (value : any) =>  {\r\n        setFilterState(value); \r\n    }\r\n      return (\r\n\r\n        <div\r\n            style={{\r\n                marginTop: 15,\r\n                flexShrink: 0,\r\n            }}\r\n        >\r\n            <Button \r\n                disabled\r\n                style={{ \r\n                        backgroundColor: \"white\",\r\n                        borderColor: \"white\",\r\n                    }} \r\n                icon={<FilterOutlined  \r\n                    style={{\r\n                        color: \"#4650dd\",\r\n                        fontSize: \"120%\",\r\n                        paddingRight: 30,\r\n                    }}\r\n                />}\r\n            />\r\n            <Cascader\r\n                placeholder=\"Chọn mục để lọc\"\r\n                value={filterState}\r\n                options={filterItems}\r\n                onChange={onChange}\r\n            />\r\n        </div>\r\n      )\r\n}\r\n","import { Pagination } from \"antd\";\r\ninterface Props {\r\n    total: number;\r\n    page: number;\r\n    limit: number;\r\n    setPage: (page : number) => void;\r\n}\r\nexport const MembersPagination = ({ total, page, limit, setPage}: Props) => {\r\n\r\n    return (<Pagination \r\n        simple\r\n        current={page}\r\n        total  = {total}\r\n        defaultPageSize={limit}\r\n        showLessItems\r\n        onChange={(page: number) => setPage(page)}\r\n    />)\r\n\r\n}","import { message, notification } from \"antd\";\r\n\r\nexport const iconColor = \"#1800ff\";\r\n\r\nexport const displaySuccessNotification = (message: string, description?: string) => {\r\n    return notification[\"success\"]({\r\n        message, \r\n        description, \r\n        placement: \"topRight\",\r\n        style: {\r\n            marginTop: 20\r\n        }\r\n    })\r\n}\r\n\r\nexport const deleteKey = (obj : any, key = \"id\") => {\r\n    let newObj = {}\r\n    Object.keys(obj).forEach( (k, _) => {\r\n        //@ts-expect-error\r\n        if (k !== key) newObj[k] = obj[k] \r\n    })\r\n\r\n    return newObj;\r\n}\r\n\r\nexport const displayErrorMessage = (error: string) => {\r\n    return message.error(error);\r\n} ","import { Table, Input, Layout  } from \"antd\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { MEMBERS } from \"../../../../lib/graphql/queries\";\r\nimport { Members as MembersData, MembersVariables } from \"../../../../lib/graphql/queries/Members/__generated__/Members\";\r\nimport { Viewer } from \"../../../../lib\";\r\nimport { PageSkeleton } from \"./skeletons\";\r\nimport { Filter, MembersPagination } from \"./components\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { convertEnumTrueFalse, SelectOrganizations } from \"../../utils\";\r\nimport { displayErrorMessage } from \"../../../../lib/utils\";\r\n\r\nconst { Header, Content } = Layout;\r\nconst { Search } = Input;\r\n\r\ninterface Props {\r\n    viewer: Viewer\r\n    filterState: any;\r\n    setFilterState: any\r\n    searchState: any\r\n    setSearchState: any\r\n    searchData: any\r\n    setSearchData: any\r\n    organizationId: any\r\n    setOrganziationId: any\r\n}\r\n\r\nconst PAGE_LIMIT = 5;\r\nexport const MembersTable = ({ \r\n    filterState,\r\n    setFilterState,\r\n    searchState,\r\n    setSearchState,\r\n    searchData,\r\n    setSearchData,\r\n    organizationId,\r\n    setOrganziationId,\r\n    viewer\r\n } : Props) => {\r\n    let history = useHistory();\r\n    const [page, setPage] = useState(1);\r\n    const { data, loading, error, refetch } = useQuery<MembersData, MembersVariables>(MEMBERS, {\r\n        variables: {\r\n            organizationId: viewer.organization_id || \"\",\r\n            limit: PAGE_LIMIT,\r\n            page: 1\r\n        }, \r\n        fetchPolicy: \"cache-and-network\",\r\n    });\r\n\r\n    // Move these thing to the parent component to save state\r\n    // const [filterState, setFilterState] = useState<CascaderValueType | undefined>();\r\n    // const [searchState, setSearchState] = useState<string>(\"\");\r\n    // const [searchData,  setSearchData]  = useState<any>({ keyword: undefined, filter : undefined, });\r\n\r\n    const fetchRef = useRef(refetch);\r\n    useEffect(() => {\r\n        fetchRef.current({\r\n            //Admin will be viewer.isAdmin && organizationId !== \"\" ? organizationId , the other side is for not admin\r\n            organizationId: viewer.isAdmin && organizationId !== \"\" ? organizationId : viewer.organization_id || \"\",\r\n            limit: PAGE_LIMIT,\r\n            page: page,\r\n            input: {\r\n                keyword : searchData.keyword,\r\n                filter  : searchData.filter\r\n            }\r\n        })\r\n    }, [page, viewer.organization_id, searchData, viewer.isAdmin, organizationId, filterState]) \r\n\r\n    useEffect(() => {\r\n        fetchRef.current({\r\n            organizationId\r\n        })\r\n    }, [organizationId])\r\n\r\n    useEffect(() => {\r\n        setPage(1)\r\n        if (filterState) {\r\n            const [key, val] = filterState;\r\n            const obj = {}\r\n            //@ts-expect-error\r\n            obj[key] = val; // Have to do this to convert `key` to real value \r\n            const filter = convertEnumTrueFalse(obj)\r\n\r\n            setSearchData((state : any) => {\r\n                if (!state) return filter;\r\n                else return {...state, filter}\r\n             })\r\n        } else {\r\n            setSearchData({\r\n                keyword: undefined,\r\n                filter: undefined,\r\n             })\r\n        }\r\n    }, [filterState, setSearchData])\r\n\r\n    const onSearch = (keyword: string) => {\r\n        setPage(1)\r\n        // setSearchState(keyword);\r\n        setSearchData((state : any) => {\r\n            return {\r\n                keyword: keyword,\r\n                filter: state.filter\r\n            }\r\n        })\r\n    }\r\n\r\n    if (loading) {\r\n        return <PageSkeleton />\r\n    }\r\n\r\n    if (error)  {\r\n        throw Error(\"Cannot fetch members, check server connection again\")\r\n    }\r\n\r\n    type Member = MembersData[\"members\"][\"results\"][0];\r\n\r\n\r\n    const columns = [\r\n        {\r\n            title: \"Họ\",\r\n            dataIndex: 'lastName',\r\n            key:\"lastName\",\r\n            sorter: (a : Member, b : Member) => a.lastName.length - b.lastName.length\r\n\r\n        },\r\n        {\r\n            title: \"Tên\",\r\n            dataIndex: 'firstName',\r\n            key:\"firstName\",\r\n            sorter: (a : Member, b : Member) => a.firstName.length - b.firstName.length\r\n        },\r\n        {\r\n            title: \"Giới tính\",\r\n            dataIndex: 'gender',\r\n            key:\"gender\",\r\n            sorter: (a : Member, b : Member) => a.gender.length - b.gender.length\r\n        },\r\n        {\r\n            title: \"Năm sinh\",\r\n            dataIndex: 'birthYear',\r\n            key:\"birthYear\",\r\n            sorter: (a : Member, b : Member) => a.birthYear - b.birthYear\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            { data ?  <Layout className=\"members-table-layout\">\r\n                    <Header \r\n                        style={{\r\n                            backgroundColor: \"white\",\r\n                            border: \"none\",\r\n                            height: 100,\r\n                            display: \"flex\",\r\n                            justifyContent: \"space-around\",\r\n                            // flexDirection: \"row-reverse\",\r\n                            // justifyItems: \"center\",\r\n                            flexWrap: \"wrap\"\r\n                        }}\r\n                        >\r\n                            <Search \r\n                                style={{\r\n                                    marginTop: 30,\r\n                                    marginRight: \"auto\",\r\n                                    borderRadius: 4,\r\n                                    flexShrink: 0,\r\n                                    width: 300,\r\n                                    height: 72 \r\n                                }}\r\n                                placeholder=\"Nhập để tìm kiếm...\"\r\n                                onSearch={onSearch}\r\n                                onChange={(e) => setSearchState(e.target.value)}\r\n                                value={searchState}\r\n                                enterButton\r\n                            />\r\n                                <div style={{\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"space-between\"\r\n                                }}>\r\n                                <Filter filterState={filterState} setFilterState={setFilterState} />\r\n                                { viewer.isAdmin && <div style={{\r\n                                            width: 150,\r\n                                            display: \"flex\",\r\n                                            alignItems: \"center\",\r\n                                            paddingBottom: 10,\r\n                                            marginLeft: 150 \r\n                                        }}\r\n                                    >\r\n                                        <SelectOrganizations \r\n                                            selectState={organizationId}\r\n                                            setSelectState={setOrganziationId}\r\n                                            config={{\r\n                                                size: \"medium\",\r\n                                                className: \"stats__organizations-select\",\r\n                                                specialPair : [\"\", \"Tổng thành viên\"]\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                }\r\n                        </div>\r\n                    </Header>\r\n                    <Content\r\n                        style={{\r\n                            backgroundColor: \"white\",\r\n                            border: \"none\"\r\n                        }}\r\n                    >\r\n                        <Table \r\n                            tableLayout=\"fixed\"\r\n                            pagination={false}\r\n                            rowKey={member => member.id} \r\n                            rowClassName={member => member.isTransferring ? \"disabled-row\" : \"nothing\"}\r\n                            onRow={(member) => { \r\n                                return {\r\n                                    onClick: () => {\r\n                                        if (member.isTransferring) {\r\n                                            displayErrorMessage(\"Hội viên này đang được chuyển sang thành viên khác, không thể thực hiện thao tác\");\r\n                                        } else {\r\n                                            if (viewer.isAdmin) {\r\n                                                history.push(`/user/${member.id}`)\r\n                                            } else {\r\n                                                history.push(`/user/${member.organization_id}/${member.id}`)\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }} \r\n                            columns={columns} \r\n                            dataSource={data.members.results} \r\n                        /> \r\n                        <div className=\"members__pager-container\">\r\n                            <MembersPagination\r\n                                total={data.members.total}\r\n                                page={page}\r\n                                limit={PAGE_LIMIT}\r\n                                setPage={setPage}\r\n\r\n                            />\r\n                        </div>\r\n\r\n                    </Content>\r\n                </Layout>\r\n             : null}\r\n        </>\r\n    )\r\n}\r\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const UPSERT_MEMBER = gql`\r\n    mutation UpsertMember($old: InputMember, $new: InputMember!) {\r\n        upsertMember(old : $old, new : $new)\r\n    }\r\n`;","import { gql } from \"@apollo/client\";\r\n\r\nexport const DELETE_MEMBER = gql`\r\n    mutation DeleteMember($memberId : String!) {\r\n        deleteMember(memberId: $memberId)\r\n    }\r\n`;\r\n","import { PageHeader, Card, Skeleton } from \"antd\"\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport const FormSkeleton = () => {\r\n    const history = useHistory();\r\n    return <section className=\"profile-section\" >\r\n                <PageHeader\r\n                    ghost={false}\r\n                    style={{\r\n                        backgroundColor: \"white\",\r\n                        marginTop: 24,\r\n                        padding: 24\r\n                    }}\r\n                    className=\"profile__page-header\"\r\n                    onBack={() => history.push(\"/members\")}\r\n                    title=\"Quay lại\"\r\n                />\r\n\r\n            <Card\r\n                headStyle={{\r\n                    display: \"flex\",\r\n                    height: 150,\r\n                    fontWeight: 400,\r\n                    fontSize: 24,\r\n                    letterSpacing: 1,\r\n                    alignItems: \"center\",\r\n                    WebkitBoxShadow: \"0 0.125rem 0.25rem rgb(0 0 0 / 8%)\",\r\n                    boxShadow: \"0 0.125rem 0.25rem rgb(0 0 0 / 8%)\",\r\n                    paddingLeft: 50\r\n                }}\r\n                style={{\r\n                    marginTop: \"5%\",\r\n                    borderRadius: 25,\r\n                    boxShadow: \"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px\",\r\n                    fontFamily: '\"Poppins\",system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"',\r\n                }}\r\n                bodyStyle={{\r\n                    padding: \"10px 40px\"\r\n                }}\r\n                title=\"Xem và chỉnh sửa thông tin hội viên\"\r\n            >\r\n                    {/* Main form items are here */}\r\n\r\n                    <Skeleton paragraph={{\r\n                        rows: 1\r\n                    }} />\r\n\r\n                    {(() => {\r\n                        const mainStats = [ \r\n                            { }, { }, { }, { },\r\n                            { }, { }, { }, { },\r\n                            { }, { }, { }, { },\r\n                            { }, { }, { }, { },\r\n                            { }, { }, { }, { },\r\n                            { }, { }, { }, { },\r\n                        ] \r\n                        return <>\r\n                            {mainStats.map((_, index) => {\r\n                                return <div key={index} className=\"skeleton__ant-form-item\">\r\n                                            <Skeleton \r\n                                                key={index} \r\n                                                paragraph={\r\n                                                    { rows: 1 }\r\n                                                }\r\n                                            />\r\n                                        </div>\r\n                            })}\r\n                        </>\r\n                    })()}\r\n                    {/* { SelectOrganizationsIfAdmin(organizations, viewer )}\r\n                    { FormItems.map((item) => createFormItem(item)) } */}\r\n                    \r\n                </Card>\r\n            </section>\r\n}","import { gql } from \"@apollo/client\";\r\n\r\nexport const HANDLE_MESSSAGE = gql`\r\n    mutation HandleMessage($input : ClientMessage!) {\r\n        handleMessageFromClient(input: $input)\r\n    }\r\n`;\r\n","import { Modal } from \"antd\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { Viewer } from \"../../../../../../lib\";\r\nimport { MessageType, ServerMessageAction } from \"../../../../../../lib/graphql/globalTypes\";\r\nimport { SelectOrganizations } from \"../../../../utils\";\r\nimport { HandleMessage as HandleMessageData, HandleMessageVariables } from \"../../../../../../lib/graphql/mutations/HandleMessageFromClient/__generated__/HandleMessage\";\r\nimport { HANDLE_MESSSAGE } from \"../../../../../../lib/graphql/mutations/HandleMessageFromClient\";\r\nimport { displayErrorMessage, displaySuccessNotification } from \"../../../../../../lib/utils\";\r\nimport { useMutation } from \"@apollo/client\";\r\ninterface Props  {\r\n    memberData : any;\r\n    viewer: Viewer;\r\n    modalVisible: boolean;\r\n    setModalVisible: ( value : boolean ) => void;\r\n}\r\n\r\ninterface Params {\r\n    id : string,\r\n    organizationId : string\r\n}\r\n\r\nexport const TransferMemberModal = ({ \r\n    viewer, \r\n    modalVisible,\r\n    setModalVisible,\r\n    memberData } : Props) => {\r\n    const [ selectState, setSelectState ] = useState<string>(memberData.orga);\r\n    const params = useParams<Params>();\r\n    const history = useHistory();\r\n\r\n\r\n    const [handleMessage, { data, loading }] = useMutation<HandleMessageData, \r\n    HandleMessageVariables>(HANDLE_MESSSAGE, {\r\n        onError: err => displayErrorMessage(`Không thể thực hiện chuyen  ${err}`)\r\n    });\r\n\r\n\r\n    useEffect(() => {\r\n        if (data?.handleMessageFromClient === \"true\") {\r\n            if (!loading) {\r\n                displaySuccessNotification(\"Chuyển hội viên thành công\");\r\n                history.goBack();\r\n            }\r\n        } else if (data && data?.handleMessageFromClient !== \"true\") {\r\n            displayErrorMessage(\"Không thể chuyển hội viên\")\r\n        }\r\n    }, [data, history, loading])\r\n\r\n    const handleOk = () => { \r\n        const { id : member_id } = params;\r\n        setModalVisible(false);\r\n        handleMessage({\r\n            variables: {\r\n                input : { \r\n                    action: ServerMessageAction.REQUEST,\r\n                    type: MessageType.TRANSFER,\r\n                    from_id: viewer.id || \"\",\r\n                    to_organizationId: selectState,\r\n                    content: member_id\r\n                }\r\n            }\r\n        })\r\n    }\r\n    \r\n    const handleCancel = () => { \r\n        setModalVisible(false);\r\n    }\r\n\r\n    return <Modal\r\n                width={800}\r\n                title=\"Chọn thành viên để chuyển đến\"\r\n                visible={modalVisible}\r\n                onOk={handleOk}\r\n                onCancel={handleCancel}\r\n            >\r\n                <div\r\n                    style={{\r\n                        width: \"100%\",\r\n                        display: 'flex',\r\n                    }}\r\n                >\r\n                    <h3\r\n                        style={{\r\n                            fontWeight: \"initial\",\r\n                            fontFamily: `\"Poppins\",system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"`\r\n                        }}\r\n                    >Tên thành viên mới: </h3>\r\n                    <div\r\n                        style={{\r\n                            marginLeft: \"auto\",\r\n                            width: 450,\r\n                            display: 'flex',\r\n                            flexDirection: 'row-reverse'\r\n                        }}\r\n                    >\r\n                            <SelectOrganizations \r\n                                selectState={selectState}\r\n                                setSelectState={setSelectState}\r\n                                config={{\r\n                                    className: \"profile__modal\",\r\n                                    size: \"large\",\r\n                                    excludeId: memberData.organization_id\r\n                                }}\r\n                            />\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n}","import { useMutation, useQuery } from \"@apollo/client\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { MEMBER } from \"../../../../lib/graphql/queries/Member\";\r\nimport { Member as MemberData, MemberVariables } from \"../../../../lib/graphql/queries/Member/__generated__/Member\";\r\nimport { UpsertMember as UpsertMemberData, UpsertMemberVariables } from \"../../../../lib/graphql/mutations/UpsertMember/__generated__/UpsertMember\";\r\nimport { DeleteMember as DeleteMemberData, DeleteMemberVariables } from \"../../../../lib/graphql/mutations/DeleteMember/__generated__/DeleteMember\";\r\nimport { Button, Form, PageHeader, Card, Divider } from \"antd\"\r\nimport { useEffect, useState } from \"react\";\r\nimport { deleteKey, displayErrorMessage, displaySuccessNotification } from \"../../../../lib/utils\";\r\nimport { UPSERT_MEMBER } from \"../../../../lib/graphql/mutations/UpsertMember\";\r\nimport { Viewer } from \"../../../../lib\";\r\nimport { convertEnumTrueFalse, createFormItem, FormItems, SelectOrganizations } from \"../../utils\";\r\nimport { DELETE_MEMBER } from \"../../../../lib/graphql/mutations/DeleteMember\";\r\nimport { FormSkeleton } from \"../../utils/FormSkeleton\";\r\nimport { TransferMemberModal } from \"./components\";\r\n\r\nconst { Item } = Form;\r\n\r\ninterface Params {\r\n    id : string\r\n    organizationId : string\r\n}\r\n\r\ninterface Props {\r\n    viewer : Viewer\r\n}\r\n\r\n\r\nexport const Profile = ({ viewer } : Props ) => {\r\n    const [fields, setFields] = useState<any>([])\r\n    const { id, organizationId }  = useParams<Params>();\r\n    const params = useParams<Params>();\r\n    const history = useHistory();\r\n    const [ modalVisible, setModalVisible ] = useState<boolean>(false);\r\n\r\n    const [deleteMember, { data: deleteMemberData, error: deleteMemberError }]\r\n    = useMutation<DeleteMemberData, DeleteMemberVariables>(DELETE_MEMBER);\r\n\r\n    const [upsertMember, { data : upsertData, loading : upsertLoading, error : upsertError, }] = useMutation<UpsertMemberData, UpsertMemberVariables>(UPSERT_MEMBER);\r\n    const { data, loading, error } = useQuery<MemberData, MemberVariables>(\r\n        MEMBER, { \r\n            variables : { \r\n                id : id,\r\n                organizationId : organizationId\r\n            },\r\n            fetchPolicy: \"network-only\"\r\n        })\r\n\r\n\r\n    const [ selectState, setSelectState ] = useState<string>(params.organizationId);\r\n    \r\n    useEffect(() => {\r\n        //This side effect only applicable for submit the form\r\n        if (upsertError) {\r\n            displayErrorMessage(\"Không thể cập nhật hội viên. Lỗi không xác định\")\r\n            return\r\n        }\r\n\r\n        if (upsertData && upsertData.upsertMember !== \"true\")  {\r\n            displayErrorMessage(`Không thể cập nhật hội viên. ${upsertData.upsertMember} `)\r\n            return \r\n        }\r\n\r\n        let fieldIdx = viewer.isAdmin ? 1 : 0;\r\n\r\n        if (upsertData && upsertData.upsertMember === \"true\") {\r\n            displaySuccessNotification(\"Chỉnh sửa hội viên thành công\", \r\n            `Hội viên tên ${fields[fieldIdx].value} ${fields[fieldIdx + 1].value} đã được chỉnh sửa` )\r\n\r\n            // refetchAllMembers() //Important for csv\r\n            if (!upsertLoading) {\r\n                history.goBack()\r\n            }\r\n        }\r\n\r\n\r\n        if (deleteMemberData && !(deleteMemberData.deleteMember === true)) {\r\n            displayErrorMessage(`Không thể xóa hội viên.`)\r\n            return \r\n        }\r\n\r\n        if (deleteMemberData && deleteMemberData.deleteMember === true) {\r\n            let firstName = \"\";\r\n            let lastName  = \"\";\r\n            for (const field of fields) {\r\n                if (field.name === \"lastName\") firstName = field.value;\r\n\r\n                if (field.name === \"firstName\") lastName = field.value;\r\n            }\r\n\r\n            displaySuccessNotification(\"Xóa hội viên thành công\", \r\n            `Hội viên tên ${firstName} ${lastName} đã bị xóa` )\r\n\r\n            // refetchAllMembers() //Important for csv file\r\n            if (!upsertLoading) {\r\n                history.goBack()\r\n            }\r\n        }\r\n\r\n        return\r\n    }, [upsertError, \r\n        upsertData, \r\n        upsertLoading, \r\n        history, fields, \r\n        deleteMemberData, \r\n        deleteMemberError,\r\n        viewer.isAdmin\r\n    ])\r\n\r\n    useEffect(() =>   {\r\n        if (data && data.member)  {\r\n            const { member } = data;\r\n\r\n            const newFields : any[] = [] \r\n            Object.keys(member).forEach((k, _) => {\r\n                //@ts-expect-error: The key of this dict is still the key of that dict\r\n                //Antd only have option for \"false\" or \"true\" as string\r\n                //So that, true or false should be convert to string\r\n                let value = member[k];\r\n                if ([true, false].includes(value)) {\r\n                    if (value === true) {\r\n                        value = \"Có\"\r\n                    } else if (value === false) {\r\n                        value = \"Không\"\r\n                    } \r\n                }\r\n                    newFields.push(\r\n                        {\r\n                            name: k,\r\n                            value: value\r\n                        }\r\n                    )\r\n                })\r\n\r\n            setFields(newFields)\r\n            setSelectState(data.member.organization_id)\r\n        }\r\n        },[data])\r\n\r\n\r\n    const onFinish = async (values : any) => {\r\n            //Set it to the original organization Id\r\n            values.organization_id = data?.member?.organization_id \r\n            if (viewer.isAdmin && selectState !== \"\") { \r\n                values.organization_id = selectState \r\n            } \r\n            // else {\r\n            //     values.organization_id = data?.member?.organization_id;\r\n            // }\r\n            values = convertEnumTrueFalse(values);\r\n\r\n            let old : any = null;\r\n\r\n            if (data && data.member) {\r\n                old = deleteKey(data.member)\r\n            }\r\n\r\n            //Process the input to server by deleting the id field (will be genereted by the server)\r\n\r\n            values = deleteKey(values)\r\n            old    = deleteKey(old, \"__typename\")\r\n\r\n            await upsertMember({\r\n                variables: {\r\n                    old: old,\r\n                    new: values\r\n                }\r\n            })\r\n    }\r\n\r\n    if (loading) {\r\n        return <FormSkeleton />\r\n    }\r\n\r\n    if (error) {\r\n        displayErrorMessage(\"Có lỗi xảy ra, xin vui lòng reload lại\");\r\n        return (\r\n            <div>There are some errors, please try again later</div>\r\n        )\r\n    }\r\n\r\n    if (data && data.member && fields)  {\r\n        return ( \r\n            <section className=\"profile-section\" >\r\n                <PageHeader\r\n                    ghost={false}\r\n                    style={{\r\n                        backgroundColor: \"white\",\r\n                        marginTop: 24,\r\n                        padding: 24\r\n                    }}\r\n                    className=\"profile__page-header\"\r\n                    onBack={() => history.push(\"/members\")}\r\n                    title=\"Quay lại\"\r\n                />\r\n\r\n            <Card\r\n                extra={\r\n                    !viewer.isAdmin &&\r\n                    <div\r\n                        style={{\r\n                            width: \"100px !important\",\r\n                            marginRight: 30\r\n                        }}\r\n                    >\r\n                        <Button\r\n                            onClick={() => setModalVisible(true)}\r\n                            type=\"primary\"\r\n                        >Chuyển hội viên</Button>\r\n                    </div>\r\n                }\r\n                headStyle={{\r\n                    width: \"100%\",\r\n                    display: \"flex\",\r\n                    height: 150,\r\n                    fontWeight: 400,\r\n                    fontSize: 24,\r\n                    letterSpacing: 1,\r\n                    alignItems: \"center\",\r\n                    WebkitBoxShadow: \"0 0.125rem 0.25rem rgb(0 0 0 / 8%)\",\r\n                    boxShadow: \"0 0.125rem 0.25rem rgb(0 0 0 / 8%)\",\r\n                    paddingLeft: 50\r\n                }}\r\n                style={{\r\n                    marginTop: \"5%\",\r\n                    borderRadius: 25,\r\n                    boxShadow: \"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px\",\r\n                    fontFamily: '\"Poppins\",system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"',\r\n                }}\r\n                bodyStyle={{\r\n                    padding: \"40px 40px\"\r\n                }}\r\n                title=\"Xem và chỉnh sửa thông tin hội viên\"\r\n            >\r\n                <Form\r\n                    onFieldsChange={(newFields) => {\r\n                        setFields(newFields)\r\n                    }}\r\n                    onFinish={onFinish}\r\n                    layout=\"vertical\"\r\n                    fields={fields}\r\n                >\r\n                    {/* Main form items are here */}\r\n                    { \r\n                        viewer.isAdmin && \r\n                        <>\r\n                        <Item \r\n                            className=\"select-organization\"\r\n                            key=\"organization_id\" \r\n                            label=\"Thành viên hiện tại\"\r\n                            name=\"organization_id\"\r\n                            rules={\r\n                            [\r\n                                {\r\n                                    required: true,\r\n                                    message: `Chọn thành viên`\r\n                                }\r\n                            ]\r\n                            }\r\n                        >\r\n                            <SelectOrganizations\r\n                                selectState={selectState}\r\n                                setSelectState={setSelectState}\r\n                                config={{\r\n                                    size : \"medium\"\r\n                                }}\r\n                            />\r\n                        </Item>\r\n                        <Divider />\r\n                        </>\r\n                    }\r\n                    {/* {viewer.isAdmin && SelectOrganizationsIfAdmin(viewer.organization_id)} */}\r\n                    { FormItems.map((item) => createFormItem(item)) }\r\n                    \r\n                    <div style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"row\"\r\n                    }}>\r\n                        <Item >\r\n                            <Button \r\n                                style={{width: 100}} \r\n                                htmlType=\"submit\" \r\n                                type=\"primary\">Lưu</Button>\r\n                        </Item>\r\n                        <Item style={{marginLeft: \"8%\"}}>\r\n                            <Button onClick={ () => {\r\n                                 deleteMember({\r\n                                     variables: {\r\n                                         memberId: id\r\n                                     }\r\n                                 }) \r\n                                } \r\n                            }\r\n                                 danger type=\"primary\">Xóa hội viên</Button>\r\n                        </Item>\r\n                    </div>\r\n                    </Form>\r\n                </Card>\r\n                <TransferMemberModal\r\n                    memberData={data.member}\r\n                    viewer={viewer}\r\n                    modalVisible={modalVisible}\r\n                    setModalVisible={setModalVisible}\r\n                />\r\n            </section>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <h1>This user does not exist</h1>\r\n    )\r\n}","import { useHistory} from \"react-router\";\r\nimport { UpsertMember as UpsertMemberData, UpsertMemberVariables } from \"../../../../lib/graphql/mutations/UpsertMember/__generated__/UpsertMember\";\r\nimport { Organizations as OrganizationsData } from \"../../../../lib/graphql/queries/Organizations/__generated__/Organizations\";\r\nimport { Card, Button, Form, PageHeader  } from \"antd\"\r\nimport { useEffect, useState } from \"react\";\r\nimport { deleteKey, displayErrorMessage, displaySuccessNotification } from \"../../../../lib/utils\";\r\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport { UPSERT_MEMBER } from \"../../../../lib/graphql/mutations/UpsertMember\";\r\nimport { Viewer } from \"../../../../lib\";\r\nimport { QUERY_ORGANIZATIONS } from \"../../../../lib/graphql/queries/Organizations\";\r\nimport { convertEnumTrueFalse, createFormItem, FormItems, SelectOrganizationsIfAdmin } from \"../../utils\";\r\n\r\nconst { Item } = Form;\r\n\r\n\r\ninterface Props {\r\n    viewer : Viewer\r\n}\r\nexport const CreateUser = ({ viewer } : Props) => {\r\n    const [fields, setFields] = useState<any>([])\r\n    const [organizations, setOrganizations] = useState<any>([])\r\n    const history = useHistory();\r\n\r\n    const [upsertMember, { data : upsertData, loading : upsertLoading, error : upsertError, }] \r\n    = useMutation<UpsertMemberData, UpsertMemberVariables>(UPSERT_MEMBER);\r\n\r\n\r\n    // const [selectState, setSelectState] = useState<string>(\"\");\r\n\r\n\r\n    const [getOrganizations, { data : organizationsData }]\r\n    = useLazyQuery<OrganizationsData>(QUERY_ORGANIZATIONS, {\r\n        onCompleted: data => setOrganizations(data.organizations.results)\r\n    })\r\n\r\n    useEffect(() => {\r\n        //This side effect only applicable for submit the form\r\n        if (upsertError) {\r\n            displayErrorMessage(\"Không thể cập nhật hội viên. Lỗi không xác định\")\r\n            return\r\n        }\r\n\r\n        if (upsertData && !(upsertData.upsertMember === \"true\"))  {\r\n            displayErrorMessage(`Không thể cập nhật hội viên. ${upsertData.upsertMember} `)\r\n            return\r\n        }\r\n\r\n        if (upsertData && upsertData.upsertMember === \"true\") {\r\n            displaySuccessNotification(\"Tạo hội viên thành công\", \r\n            `Tua lên đầu trang để quay lại trang quản lý` )\r\n\r\n            // refetchAllMembers() //Important for saving data to csv\r\n            if (!upsertLoading) {\r\n                history.goBack()\r\n            }\r\n        }\r\n\r\n        return\r\n    }, [upsertError, upsertData, upsertLoading, history])\r\n\r\n    useEffect(() => {\r\n        //Only fetch data if this is the admin account\r\n        getOrganizations()\r\n        if (viewer.isAdmin && organizationsData && organizationsData.organizations.results){\r\n            setOrganizations(organizationsData.organizations.results)\r\n        }\r\n    }, [organizationsData, viewer.isAdmin, getOrganizations])\r\n\r\n    const onFinish = (values : any) => {\r\n\r\n        values = convertEnumTrueFalse(values);\r\n\r\n        values = deleteKey(values)\r\n\r\n        //If admin then there should be an additional field to select the organization\r\n        if (!viewer.isAdmin) values[\"organization_id\"] = viewer.organization_id;\r\n\r\n        upsertMember({\r\n            variables : {\r\n                new: values \r\n            }\r\n        })\r\n    }\r\n\r\n    return ( \r\n        <section className=\"profile-section\" >\r\n            <PageHeader\r\n                ghost={false}\r\n                style={{\r\n                    backgroundColor: \"white\",\r\n                    marginTop: 24,\r\n                }}\r\n                className=\"profile__page-header\"\r\n                onBack={() => history.push(\"/members\")}\r\n                title=\"Quay lại\"\r\n            />\r\n            <Card\r\n                headStyle={{\r\n                    display: \"flex\",\r\n                    height: 150,\r\n                    fontWeight: 400,\r\n                    fontSize: 24,\r\n                    letterSpacing: 1,\r\n                    alignItems: \"center\",\r\n                    WebkitBoxShadow: \"0 0.125rem 0.25rem rgb(0 0 0 / 8%)\",\r\n                    boxShadow: \"0 0.125rem 0.25rem rgb(0 0 0 / 8%)\",\r\n                    paddingLeft: 50\r\n                }}\r\n                style={{\r\n                    marginTop: \"5%\",\r\n                    borderRadius: 25,\r\n                    boxShadow: \"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px\",\r\n                    fontFamily: '\"Poppins\",system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"',\r\n                }}\r\n                bodyStyle={{\r\n                    padding: \"40px 40px\"\r\n                }}\r\n                title=\"Tạo hội viên \"\r\n            >\r\n                <Form\r\n                    onFieldsChange={\r\n                        (newFields) => { setFields(newFields) }\r\n                    }\r\n                    fields={fields}\r\n                    onFinish={onFinish}\r\n                    layout=\"vertical\"\r\n                >\r\n                    { viewer.isAdmin && SelectOrganizationsIfAdmin(organizations)}\r\n                    { FormItems.map((item) => createFormItem(item)) }\r\n                    \r\n                    <Item>\r\n                        <Button style={{width: 100}} htmlType=\"submit\" type=\"primary\">Lưu</Button>\r\n                    </Item>\r\n                    </Form>\r\n            </Card>\r\n        </section>\r\n    )\r\n    }\r\n\r\n\r\n","import { useLazyQuery } from \"@apollo/client\";\r\nimport { Radio, Slider, Divider } from \"antd\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { NUMS_BY_AGE } from \"../../../../../../lib/graphql/queries\";\r\nimport { NumsByAge as NumsByAgeData, NumsByAgeVariables } from \"../../../../../../lib/graphql/queries/NumsByAge/__generated__/NumsByAge\";\r\n\r\ninterface Props {\r\n    selectState: any;\r\n}\r\n\r\nexport const AgeSlider = ( { selectState } : Props) => {\r\n    const [ numsByAge, { data : NBAData, loading: NBALoading }] =\r\n    useLazyQuery<NumsByAgeData, NumsByAgeVariables>(NUMS_BY_AGE);\r\n    const [isSliding, setIsSliding] = useState<boolean>(false);\r\n    const [gender, setGender] = useState(\"both\");\r\n    const [state, setState] = useState<[number, number]>([20, 50]);\r\n\r\n    const ref = useRef(numsByAge);\r\n    useEffect(() => {\r\n        ref.current(\r\n            { \r\n                variables: {\r\n                    organizationId: selectState,\r\n                    gender,\r\n                    start: state[0],\r\n                    end  : state[1],\r\n                }\r\n            }\r\n        )\r\n    }, [state, selectState, gender])\r\n\r\n\r\n    const handleSizeChange = ( e: any) => {\r\n        setGender(e.target.value);\r\n    };\r\n\r\n    return (\r\n    <div className=\"wrap-border\">\r\n        <div >\r\n            <div>\r\n                <div style={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"row\",\r\n                    height: 60\r\n                }}>\r\n                    {!NBALoading && !isSliding? <h2\r\n                        style={{\r\n                            fontWeight: 700,\r\n                            textTransform: \"capitalize\"\r\n                        }}\r\n                    >\r\n                        {NBAData ? NBAData.numsByAge : \"\"}\r\n                    </h2>: null}\r\n                    <div style={{\r\n                        marginLeft: \"auto\"\r\n                    }}>\r\n                        <Radio.Group value={gender} onChange={handleSizeChange}>\r\n                            <Radio.Button value=\"Nam\">Nam</Radio.Button>\r\n                            <Radio.Button value=\"Nữ\">Nữ</Radio.Button>\r\n                            <Radio.Button value=\"both\">Tổng</Radio.Button>\r\n                        </Radio.Group>\r\n                    </div>\r\n                </div>\r\n                <p\r\n                    style={{\r\n                        textTransform: \"capitalize\",\r\n                        fontFamily: `\"Poppins\",system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"`\r\n                    }}\r\n                >\r\n                    {`Hội viên ${gender !== \"both\" ? gender === 'Nam' ? \"Nam\" : \"Nữ\" : \"\"} trong khoảng ${state[0]} - ${state[1]} tuổi`}\r\n                </p> \r\n            </div>\r\n            <Slider \r\n                range\r\n                defaultValue={state} \r\n                onChange={(value) => {\r\n                        setState(value)\r\n                        setIsSliding(true)\r\n                    }\r\n                }\r\n                onAfterChange={() => {\r\n                    setIsSliding(false)\r\n                }}\r\n                disabled={NBALoading} />\r\n            <Divider style={{border: \"none\"}} />\r\n        </div>\r\n    </div>\r\n    )\r\n}","import { Annotation, Tooltip, Axis, Chart, Coordinate, Interval } from \"bizcharts\";\r\nimport { Occupation } from \"../../../../../../lib/enum\";\r\nimport { GetOrganizationsStats as StatsDataType } from \"../../../../../../lib/graphql/queries/Stats/__generated__/GetOrganizationsStats\"; \r\n\r\ninterface Props {\r\n    data: StatsDataType[\"getOrganizationsStats\"][\"jobs\"];\r\n}\r\n\r\nexport const JobsBarChart = ({ data } : Props) => {\r\n\r\n    const barChartData = data.map(\r\n        (item : any) => {\r\n            return {\r\n                //@ts-expect-error item._id is a string\r\n                job: Occupation[item._id],\r\n                population : item.value\r\n            }\r\n        }\r\n    )\r\n    barChartData.sort((a : any, b : any) => a.population - b.population);\r\n\r\n    return ( \r\n    <div style= {{height: \"72%\"}} className=\"wrap-border\">\r\n        <Chart \r\n            padding={[70, 40, 10, 130]} \r\n            data={barChartData} \r\n            title={{\r\n                visible: true,\r\n                text: 'Nghề nghiệp',\r\n            }}\r\n            autoFit\r\n            scale={\r\n                {\r\n                    population: {\r\n                        alias : \"Số hội viên\"\r\n                    },\r\n                    job: {\r\n                        alias: \"Nghề\"\r\n                    }\r\n                }\r\n            }\r\n        >\r\n            <Annotation.Text\r\n                    position={['0%', '-10%']}\r\n                    content={`Nghề nghiệp của hội viên`}\r\n                    style={{\r\n                        fontSize: 20,\r\n                        fill: '#000',\r\n                        lineHeight: 20,\r\n                        textAlign: 'start',\r\n                        fontWeight: 500,\r\n                        fontFamily: `\"Poppins\", system-ui, -apple-system, \"Segoe UI\", Roboto,\r\n    \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\",\r\n    \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"`\r\n                    }}\r\n            />\r\n            <Coordinate transpose />\r\n            <Axis name=\"job\" />\r\n            <Axis name=\"population\" visible={false} />\r\n            <Tooltip />\r\n            <Interval \r\n                position=\"job*population\"\r\n                label=\"population\"\r\n            />\r\n\r\n        </Chart>\r\n    </div>\r\n    )\r\n}","import { Cascader, Divider } from \"antd\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { CascaderValueType } from \"antd/lib/cascader\";\r\nimport { convertEnumTrueFalse, displaySentenceFromKeyVal, filterItems, getEnumValue } from \"../../../../utils\";\r\nimport { CustomCount as CustomCountData, CustomCountVariables } from \"../../../../../../lib/graphql/queries/CustomCount/__generated__/CustomCount\";\r\nimport { useLazyQuery } from \"@apollo/client\";\r\nimport { CUSTOM_COUNT } from \"../../../../../../lib/graphql/queries\";\r\nimport { displayErrorMessage } from \"../../../../../../lib/utils\";\r\n\r\ninterface Props {\r\n    selectState: string;\r\n}\r\nexport const CustomCount = ({selectState} : Props) => {\r\n\r\n    const [customCount, setCustomCount] = useState<CascaderValueType | undefined>(undefined);\r\n    const [countRes, setCountRes ] = useState<number>(99999);\r\n    \r\n    const [ refetch, { data, error}] = useLazyQuery<CustomCountData, CustomCountVariables>(CUSTOM_COUNT);\r\n\r\n    const onChange = (value : any) =>  {\r\n        setCustomCount(value); \r\n    }\r\n\r\n    if (error) {\r\n        displayErrorMessage(\"Không thể tải mục tự chọn thống kê. Hãy tải lại trang\");\r\n    }\r\n\r\n    const ref = useRef(refetch);\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            setCountRes(data.customCount)\r\n        } \r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n        if (customCount) {\r\n            const [key, val] = customCount;\r\n            const obj = {}\r\n            //@ts-expect-error\r\n            obj[key] = val; // Have to do this to convert `key` to real value \r\n            const filter = convertEnumTrueFalse(obj)\r\n\r\n            ref.current({\r\n                variables :  {\r\n                    organizationId: selectState,\r\n                    input: filter\r\n                }\r\n            })\r\n        }\r\n    }, [customCount, selectState])\r\n\r\n    return <div>\r\n        <Cascader \r\n            placeholder=\"Chọn mục để lọc\"\r\n            size=\"large\"\r\n            style={{\r\n                width: 200 \r\n            }}\r\n            value={customCount}\r\n            options={filterItems}\r\n            onChange={onChange}\r\n        />\r\n        <Divider />\r\n        {(() => {\r\n            if (countRes === 99999) {\r\n                return <h2>Hãy chọn mục để lọc</h2>\r\n            } else {\r\n                if (customCount && countRes) {\r\n                    const [key, val]  = customCount;\r\n                    // const category    = getLabelFromName(key)\r\n                    const categoryVal = getEnumValue(key, val)\r\n                    \r\n                    return <>\r\n                        <h2>{countRes}</h2>\r\n                        <p>Hội viên {displaySentenceFromKeyVal(key, categoryVal)}</p>\r\n                    </> \r\n                } else {\r\n                    return <h2>{`Không có hội viên thuộc mục này`}</h2> \r\n                }\r\n            }\r\n        })()}\r\n    </div>\r\n}","import { PieChart } from \"bizcharts\";\r\nimport { GetOrganizationsStats as StatsDataType,\r\n         GetOrganizationsStats_getOrganizationsStats_jobs as GraphData } \r\nfrom \"../../../../../../lib/graphql/queries/Stats/__generated__/GetOrganizationsStats\"; \r\n\r\ninterface Props {\r\n    brailleData: StatsDataType[\"getOrganizationsStats\"][\"brailleData\"]\r\n    config: any;\r\n}\r\n\r\nexport const BraillePieChart = ({ brailleData, config } : Props) => {\r\n    const pieChartData = brailleData.map(\r\n        (data : GraphData) => {\r\n            return {\r\n                type: config.Enum[data._id],\r\n                value : data.value\r\n            }\r\n        }\r\n    )\r\n    return <div className=\"wrap-border\">\r\n            <PieChart\r\n                data={pieChartData}\r\n                title={{\r\n                    visible: true,\r\n                    text: config.titleText\r\n                }}\r\n                description={{\r\n                    visible: true,\r\n                    text: config.titleDescription\r\n                }}\r\n                radius={0.8}\r\n                angleField='value'\r\n                colorField='type'\r\n                label={{\r\n                    visible: true,\r\n                    type: 'outer',\r\n                    offset: 20,\r\n                }}\r\n                />\r\n        </div>\r\n}","import {\r\n  Chart,\r\n  Point,\r\n  Line,\r\n\tAxis,\r\n  Area,\r\n  Tooltip,\r\n  Coordinate,\r\n  Annotation\r\n} from 'bizcharts';\r\nimport DataSet from '@antv/data-set';\r\n\r\ninterface Props {\r\n    listOfData: any\r\n    config: any\r\n}\r\n\r\nconst processData = (listOfData : any, config : any) => {\r\n    //1. First take out all the ids from list of data\r\n    // const _ids = listOfData[Object.keys(listOfData)[0]].map((item : any) => item._id)\r\n\r\n    const _ids = Object.keys(config.Enum)\r\n    let newData = {}\r\n    Array.from(_ids).forEach((_id : any) => {\r\n        //@ts-expect-error _id is a string\r\n        newData[_id] = {}\r\n        Object.keys(listOfData).forEach( entry => { \r\n            //@ts-expect-error _id is a string\r\n            newData[_id][entry] = 0\r\n        })\r\n    })\r\n\r\n    //2. Add all subvalues into the map\r\n    let maxVal = -1\r\n    for (const [label, value] of Object.entries(listOfData)) {\r\n        //@ts-expect-error it's not unknown\r\n        for (const entry of Array.from(value)) {\r\n            //@ts-expect-error it's a string\r\n            if (entry.value > maxVal) maxVal = entry.value\r\n            //@ts-expect-error it's a string\r\n            newData[entry._id][label] = entry.value;\r\n        }\r\n    }\r\n\r\n    //3. Add the word item and other things in\r\n    const finalData = Array.from(Object.entries(newData)).map(datum => \r\n        {\r\n            //@ts-expect-error no error here\r\n            return { \"item\" : config.Enum[datum[0]] , ...datum[1]}\r\n        }\r\n        )\r\n\r\n    return { maxVal, finalData }\r\n}\r\n\r\nexport const CustomRadarChart = ({ listOfData, config } : Props) => {\r\n    const { DataView } = DataSet;\r\n    let maxVal = 0;\r\n    let finalData : any[] = []\r\n    try {\r\n        const { maxVal : max, finalData : data } = processData(listOfData, config)\r\n        maxVal    = max;\r\n        finalData = data;\r\n    } catch (e) {\r\n        //Nothing, maxVal and finalData is already set to 0 and []\r\n    }\r\n    const dv = new DataView().source(finalData);\r\n    dv.transform({\r\n        type: 'fold',\r\n        fields: Object.keys(listOfData), // 展开字段集\r\n        key: 'user', // key字段\r\n        value: 'score', // value字段\r\n    });\r\n    return <div className=\"wrap-border\">\r\n    <Chart\r\n        padding={[80, 0, 40, 0]} \r\n        height={400}\r\n        data={dv.rows}\r\n        autoFit\r\n        scale={{\r\n        score:{\r\n            min: 0,\r\n            max: maxVal,\r\n        }\r\n        }}\r\n        interactions={['legend-highlight']}\r\n    >\r\n        <Annotation.Text\r\n                position={['2%', '-20%']}\r\n                content={config.title}\r\n                style={{\r\n                    display: \"flex\",\r\n                    wrap: \"flex-wrap\",\r\n                    fontSize: 20,\r\n                    fill: '#000',\r\n                    lineHeight: 20,\r\n                    textAlign: 'start',\r\n                    fontWeight: 500,\r\n                    fontFamily: `\"Poppins\", system-ui, -apple-system, \"Segoe UI\", Roboto,\r\n\"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\",\r\n\"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"`\r\n                }}\r\n        />\r\n        <Annotation.Text\r\n                position={['2%', '-10%']}\r\n                content={`Theo số hội viên`}\r\n                style={{\r\n                    fontSize: 14,\r\n                    fill: 'grey',\r\n                    lineHeight: 16,\r\n                    textAlign: 'start',\r\n                    fontFamily: `\"Poppins\", system-ui, -apple-system, \"Segoe UI\", Roboto,\r\n\"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\",\r\n\"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"`\r\n                }}\r\n        />\r\n        <Coordinate type=\"polar\" radius={0.8} />\r\n        <Tooltip shared />\r\n        <Point\r\n        position=\"item*score\"\r\n        color=\"user\"\r\n        shape=\"circle\"\r\n        />\r\n        <Line\r\n        position=\"item*score\"\r\n        color=\"user\"\r\n        size=\"2\"\r\n        />\r\n        <Area\r\n        position=\"item*score\"\r\n        color=\"user\"\r\n        />\r\n            <Axis name=\"score\" grid={{ line: {type: 'line'}}} />\r\n            <Axis name=\"item\" line={false} />\r\n    </Chart> \r\n    </div>\r\n}","import {\r\n  Chart,\r\n  Axis,\r\n  Tooltip,\r\n  Interval,\r\n  Coordinate,\r\n  Annotation\r\n} from 'bizcharts';\r\nimport { GetOrganizationsStats as StatsDataType } \r\nfrom \"../../../../../../lib/graphql/queries/Stats/__generated__/GetOrganizationsStats\"; \r\nimport { Education } from \"../../../../../../lib/enum\";\r\ninterface Props {\r\n    data: StatsDataType[\"getOrganizationsStats\"][\"educations\"]\r\n    config: any\r\n}\r\n\r\nexport const EducationsChart = ({ data } : Props) => {\r\n    const processedData = data.sort((a, b) => b.value - a.value).map(\r\n        (item : any) => {\r\n            return {\r\n                //@ts-expect-error nothing\r\n                type: Education[item._id],\r\n                value : item.value\r\n            }\r\n        }\r\n    )\r\n\r\n    return <div className=\"wrap-border\">\r\n    <Chart \r\n        padding={[80, 0, 40, 0]} \r\n        height={431} data={processedData} autoFit\r\n    >\r\n        <Annotation.Text\r\n                position={['2%', '-20%']}\r\n                content={\"Trình độ học vấn của hội viên\"}\r\n                style={{\r\n                    fontSize: 20,\r\n                    fill: '#000',\r\n                    lineHeight: 20,\r\n                    textAlign: 'start',\r\n                    fontWeight: 500,\r\n                    fontFamily: `\"Poppins\", system-ui, -apple-system, \"Segoe UI\", Roboto,\r\n\"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\",\r\n\"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"`\r\n                }}\r\n        />\r\n        <Annotation.Text\r\n                position={['2%', '-10%']}\r\n                content={`Theo số hội viên`}\r\n                style={{\r\n                    fontSize: 14,\r\n                    fill: 'grey',\r\n                    lineHeight: 16,\r\n                    textAlign: 'start',\r\n                    fontFamily: `\"Poppins\", system-ui, -apple-system, \"Segoe UI\", Roboto,\r\n\"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\",\r\n\"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"`\r\n                }}\r\n        />\r\n      <Coordinate\r\n        type=\"polar\"\r\n         startAngle={Math.PI} // 起始角度\r\n         endAngle={Math.PI * (3 / 2)} // 结束角度\r\n      />\r\n      <Axis name=\"value\" grid={{\r\n        line: {\r\n          type: 'circle',\r\n        },\r\n        closed: false,\r\n      }} />\r\n      <Tooltip showTitle={false} />\r\n      <Interval\r\n        position=\"type*value\"\r\n        adjust=\"stack\"\r\n        color={['type', 'rgb(252,143,72)-rgb(255,215,135)']}\r\n        element-highlight\r\n        style={{\r\n          lineWidth: 1,\r\n          stroke: '#fff',\r\n        }}\r\n        label={['value', {\r\n          offset: -15,\r\n          style: {\r\n            textAlign: 'center',\r\n            fill: '#000',\r\n          },\r\n        }]}\r\n      />\r\n    </Chart>\r\n    </div>\r\n}","import { Viewer } from \"../../../../../../lib\"\r\nimport { TeamOutlined } from \"@ant-design/icons\";\r\ninterface Props {\r\n    viewer: Viewer;\r\n    maxOrgState: boolean;\r\n    setMaxOrgState: any;\r\n    max: any;\r\n    min: any;\r\n}\r\nexport const MaxOrgCard = ({ viewer, setMaxOrgState, maxOrgState, max, min } : Props) => {\r\n    return <>\r\n        { viewer.isAdmin && \r\n            <div onClick={() => setMaxOrgState((val : boolean) => !val)}\r\n                className=\"stats-card__2nd_type\"\r\n                style={{\r\n                    backgroundColor: \"#dadcf8\",\r\n                    color: \"#4650dd\"\r\n                }}\r\n            >\r\n                <div>\r\n                    <div>\r\n                        <h3\r\n                            style={{\r\n                                color: \"#4650dd\"\r\n                            }}\r\n                        >\r\n                            {maxOrgState ? max : min}\r\n                        </h3>\r\n                        <h5>\r\n                            {`Đơn vị có số hội viên ${maxOrgState ? \"đông\" : \"ít\"} nhất`}\r\n                        </h5>\r\n                    </div>\r\n                    <TeamOutlined \r\n                        style={{\r\n                            fontSize: \"150%\"\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        }\r\n    </>\r\n}","import { Divider, Skeleton } from \"antd\";\r\n\r\nexport const PageSkeleton = () => {\r\n    return (\r\n        <div className=\"summary-container\">\r\n\r\n        <Divider />\r\n        <div className=\"summary-child\">\r\n            <Skeleton />\r\n        </div>\r\n        <div className=\"summary-child\">\r\n            {(() => {\r\n                const mainStats = [ { }, { }, { }, { } ] \r\n                return <>\r\n                    {mainStats.map((_, index) => {\r\n                        return <div className=\"stats-main__container\" \r\n                            key={index}\r\n                            style={{\r\n                                display: \"flex\",\r\n                                flexDirection: \"row\",\r\n                                alignItems: \"center\",\r\n                                border: \"none\",\r\n                                WebkitBoxShadow: \"0 0.5rem 1rem rgb(0 0 0 / 15%)\",\r\n                                boxShadow: \"0 0.5rem 1rem rgb(0 0 0 / 15%)\",\r\n                                borderRadius: \"50rem\",\r\n                                maxHeight: \"90px\",\r\n                            }}\r\n                        >\r\n                            <div\r\n                                className=\"dot\"\r\n                            />\r\n                            <div className=\"stats-main__texts\">\r\n                                <Skeleton\r\n                                    active\r\n                                    paragraph={{ \r\n                                        rows: 1\r\n                                     }}  \r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                    })}\r\n                </>\r\n            })()}\r\n        </div>\r\n        <Divider />\r\n        <div className=\"sub-container-flex-row\" >\r\n            <div className=\"age-slider-piechart-panel\">\r\n                <div className=\"wrap-border\">\r\n                    <Skeleton />\r\n                </div>\r\n                <div className=\"wrap-border\">\r\n                    <Skeleton />\r\n                </div>\r\n            </div>\r\n            <div className=\"barchart-stats-panel\">\r\n                <div \r\n                style= {{height: \"72%\"}}\r\n                className=\"wrap-border\">\r\n                    <Skeleton />\r\n                </div>\r\n                <div className=\"stast__3-skeleton\"\r\n                    style={{\r\n                        display: \"flex\", justifyContent: \"space-between\",\r\n                        paddingLeft: 20 \r\n                }} >\r\n                    <Skeleton paragraph={{width: 150}}/>\r\n                    <Skeleton paragraph={{width: 150}}/>\r\n                    <Skeleton paragraph={{width: 150}}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <Divider />\r\n        <div className=\"summary-child\">\r\n                    <Skeleton />\r\n                    <Skeleton />\r\n        </div>\r\n        <Divider />\r\n        <div className=\"summary-child\">\r\n            <div \r\n                className=\"stats-card__2nd_type\"\r\n                style={{\r\n                    backgroundColor: \"#d7f0dd\",\r\n                    color: \"#35b653\"\r\n                }}\r\n            >\r\n                <Skeleton paragraph={{rows: 1}}/>\r\n            </div>\r\n            { true && \r\n                <div \r\n                    className=\"stats-card__2nd_type\"\r\n                    style={{\r\n                        backgroundColor: \"#dadcf8\",\r\n                        color: \"#4650dd\"\r\n                    }}\r\n                >\r\n                    <Skeleton paragraph={{rows: 1}}/>\r\n                </div>\r\n            }\r\n            <div \r\n                className=\"stats-card__2nd_type\"\r\n                style={{\r\n                    backgroundColor: \"#cfe2ff\",\r\n                    color: \"#0d6efd\"\r\n                }}\r\n            >\r\n                    <Skeleton paragraph={{rows: 1}}/>\r\n            </div>\r\n        </div>\r\n\r\n        {/* May be click here again to change title and value to smallest */}\r\n\r\n    </div>\r\n    )\r\n}","import { useLazyQuery, useQuery, NetworkStatus } from \"@apollo/client\";\r\nimport { GetOrganizationsStats as StatsData, GetOrganizationsStatsVariables as StatsVariables } from \"../../../../lib/graphql/queries/Stats/__generated__/GetOrganizationsStats\";\r\nimport { Organization as OrganizationData, OrganizationVariables } from \"../../../../lib/graphql/queries/Organization/__generated__/Organization\";\r\nimport { Statistic, Divider, Descriptions  } from \"antd\"\r\nimport { BookOutlined, HomeOutlined } from \"@ant-design/icons\";\r\nimport { QUERY_ORGANIZATION, QUERY_STATS } from \"../../../../lib/graphql/queries\";\r\nimport { displayErrorMessage } from \"../../../../lib/utils\";\r\nimport { AgeSlider, BraillePieChart, CustomCount, CustomRadarChart, EducationsChart, JobsBarChart, MaxOrgCard } from \"./components\";\r\nimport { Viewer } from \"../../../../lib\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { GetOrganizationsStats as StatsType } from \"../../../../lib/graphql/queries/Stats/__generated__/GetOrganizationsStats\"\r\nimport * as Enum from \"../../../../lib/enum\"\r\nimport { PageSkeleton } from \"./skeletons\";\r\nimport { SelectOrganizations } from \"../../utils\";\r\nimport { Language, BrailleComprehension, PostEducation, GovernmentAgencyLevel } from \"../../../../lib/enum\";\r\n\r\ninterface Props {\r\n    viewer: Viewer;\r\n}\r\n\r\n// const jobsConfig = {\r\n//     Enum: Language,\r\n//     titleText: 'Nghề nghiêp',\r\n//     xAlias: \"Số hội viên\",\r\n//     yAlias: 'Nghề nghiêp',\r\n//     intervalLabel: \"population\"\r\n// }\r\n\r\nconst brailleConfig = {\r\n    titleText: 'Trình độ chữ nổi của hội viên',\r\n    titleDescription: 'Theo số hội viên',\r\n    Enum:  BrailleComprehension\r\n}\r\n\r\nconst languagesConfig = {\r\n    titleText: 'Trình độ ngoại ngữ của hội viên',\r\n    titleDescription: 'Theo số hội viên',\r\n    Enum: Language\r\n}\r\n\r\nconst socialWorksConfig = {\r\n    Enum: PostEducation,\r\n    title: \"Chứng chỉ nghề công tác & chuyên môn\"\r\n}\r\n\r\nconst governConfig = {\r\n    Enum: GovernmentAgencyLevel,\r\n    title: \"Trình độ chính trị & trình độ quản lý nhà nước\"\r\n}\r\n\r\nexport const Statistics = ({ viewer } : Props) => {\r\n    const [selectState, setSelectState] = useState<string>(viewer.organization_id || \"\");\r\n    const [maxOrgState, setMaxOrgState] = useState<boolean>(true);\r\n    const { data, loading, refetch, networkStatus } = useQuery<StatsData, StatsVariables>(\r\n        QUERY_STATS, {\r\n            fetchPolicy: \"no-cache\",\r\n            variables: {\r\n                organizationId: viewer.organization_id\r\n            },\r\n            notifyOnNetworkStatusChange: true,\r\n            onError: (err) => {\r\n                displayErrorMessage(`Cannot fetch stats data: ${err}`)\r\n            }\r\n        }\r\n    )\r\n\r\n    useEffect(() => {\r\n        if (viewer.isAdmin) refetch( { organizationId: selectState })\r\n    }, [selectState, refetch, viewer.isAdmin])\r\n\r\n\r\n    const [getOrganization, { data: orgData }] = \r\n    useLazyQuery<OrganizationData, OrganizationVariables>(\r\n        QUERY_ORGANIZATION, \r\n    );\r\n\r\n    useEffect(() => {\r\n        if (!viewer.isAdmin && viewer.organization_id) {\r\n            getOrganization({\r\n                variables: {\r\n                    organizationId: viewer.organization_id\r\n                }\r\n            })\r\n        }\r\n    }, [viewer, getOrganization])\r\n\r\n    if (loading || networkStatus === NetworkStatus.refetch) {\r\n        return <PageSkeleton />\r\n    }\r\nif (data && data.getOrganizationsStats) {\r\n        const { \r\n            total, totalMale, totalFemale, jobs, brailleData,\r\n            avgAge, totalBusCard, totalFWIT, totalDisabilityCert,\r\n            totalMoreThan2Languages, medianEducation, medianIncome,\r\n            medianReligion, minOrganization,maxOrganization, totalICP, totalHS, totalBMC,\r\n            educations, postEducations, politicalEducations, governLevels, languages, socialWorkLevels\r\n        }  : StatsType[\"getOrganizationsStats\"] = data.getOrganizationsStats;\r\n\r\n        return (\r\n            <div className=\"summary-container\">\r\n                <div className=\"summary-child\">\r\n                    <Descriptions \r\n                        title = \"Thống kê hội người mù\"\r\n                        className=\"big\"\r\n                        size={\"middle\"}\r\n                        style={{\r\n                            border: \"none\",\r\n                            fontFamily: `\"Poppins\",system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"`\r\n                        }}\r\n                    >\r\n                        <Descriptions.Item label=\"Hội viên\">\r\n                            {`Hội người mù \r\n                                ${orgData && orgData.organization \r\n                                    ? orgData.organization.name : \"TP Hà nội\" }`\r\n                            } </Descriptions.Item> \r\n                        {\r\n                            orgData && orgData.organization && orgData.organization.address ? \r\n                            <Descriptions.Item label=\"Địa chỉ\"> \r\n                                {orgData.organization.address}\r\n                            </Descriptions.Item> : null\r\n                        }\r\n                    </Descriptions>\r\n                </div>\r\n                {viewer.isAdmin && <>\r\n                    <Divider />\r\n                    <div className=\"stats_organization-select-container\">\r\n                        <h1>Chọn thành viên</h1>\r\n                        <SelectOrganizations \r\n                            selectState={selectState}\r\n                            setSelectState={setSelectState}\r\n                            config={{\r\n                                className: \"stats__organizations-select\",\r\n                                specialPair : [\"\", \"Tổng thành viên\"]\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <Divider />\r\n                </>\r\n                }\r\n                <Divider />\r\n                <div className=\"summary-child\">\r\n                    {(() => {\r\n                        const mainStats = [\r\n                            {\r\n                                title: \"Tổng thành viên\",\r\n                                value: total,\r\n                                color: \"indigo\",\r\n                            },\r\n                            {\r\n                                title: \"Tuổi trung bình\",\r\n                                value: avgAge,\r\n                                color: \"green\",\r\n                            },\r\n                            {\r\n                                title: \"Hội viên nam\",\r\n                                value: totalMale,\r\n                                color: \"blue\",\r\n                            },\r\n                            {\r\n                                title: \"Hội viên nữ\",\r\n                                value: totalFemale,\r\n                                color: \"red\",\r\n                            }\r\n                        ] \r\n\r\n                        return <>\r\n                            {mainStats.map(stat => {\r\n                                return <div className=\"stats-main__container\" \r\n                                    key={stat.title + stat.value}\r\n                                    style={{\r\n                                        display: \"flex\",\r\n                                        flexDirection: \"row\",\r\n                                        alignItems: \"center\",\r\n                                        border: \"none\",\r\n                                        WebkitBoxShadow: \"0 0.5rem 1rem rgb(0 0 0 / 15%)\",\r\n                                        boxShadow: \"0 0.5rem 1rem rgb(0 0 0 / 15%)\",\r\n                                        borderRadius: \"50rem\",\r\n                                        maxHeight: \"90px\",\r\n                                        fontFamily: `\"Poppins\",system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"`\r\n\r\n                                    }}\r\n                                >\r\n                                    <div\r\n                                        className=\"dot\"\r\n                                        style={{\r\n                                            backgroundColor: stat.color\r\n                                        }}\r\n                                    />\r\n                                    <div className=\"stats-main__texts\">\r\n                                        <h4>{ stat.title}</h4>\r\n                                        <h5>{ stat.value }</h5>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            })}\r\n                        </>\r\n                    })()}\r\n                </div>\r\n                <Divider />\r\n                <div className=\"sub-container-flex-row\" >\r\n                    <div className=\"age-slider-piechart-panel\">\r\n                        <AgeSlider       selectState={selectState} />\r\n                        <BraillePieChart \r\n                            config={brailleConfig}\r\n                            brailleData={brailleData} \r\n                        /> \r\n                        </div>\r\n                    <div className=\"barchart-stats-panel\">\r\n                        <JobsBarChart data={jobs} />\r\n                        {/* Begin of 3 stats panel */}\r\n                        <div style={{\r\n                             display: \"flex\", justifyContent: \"space-around\"\r\n                        }} >\r\n                            <Statistic\r\n                                className=\"wrap-border big\"\r\n                                title=\"Số hội viên có thẻ xe buýt\" //From all or from organization\r\n                                value={totalBusCard}\r\n                            />\r\n                            <Statistic \r\n                                className=\"wrap-border big\"\r\n                                title=\"Số hội viên biết sử dụng tin học\" //From all or from organization\r\n                                value={totalFWIT}\r\n                            />\r\n                            <Statistic\r\n                                className=\"wrap-border big\"\r\n                                title=\"Số người là đảng viên\" //From all or from organization\r\n                                value={totalICP}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Divider />\r\n                <div className=\"sub-container-flex-row\">\r\n                    <div className=\"barchart-stats-panel limit-width-63\">\r\n                        <BraillePieChart config={languagesConfig} brailleData={languages} />\r\n                    </div>\r\n                    <div>\r\n                        <Statistic\r\n                            className=\"wrap-border more-height\"\r\n                            title=\"Trình độ học vấn chung\" //From all or from organization\r\n                            //@ts-expect-error _id is a string\r\n                            value={Enum.Education[medianEducation._id]}\r\n                        />\r\n                        <Statistic\r\n                            className=\"wrap-border more-height\"\r\n                            title=\"Số người có giấy chứng nhận khuyết tật\" //From all or from organization\r\n                            value={totalDisabilityCert}\r\n                        />\r\n                        <Statistic\r\n                            className=\"wrap-border more-height\"\r\n                            title=\"Số người có thẻ bảo hiểm y tế\" //From all or from organization\r\n                            value={totalHS}\r\n                        />\r\n                    </div>\r\n                    {/* <BraillePieChart brailleData={educations} /> */}\r\n                </div>\r\n                <Divider/>\r\n                <div className=\"sub-container-flex-row\">\r\n                    <div className=\"barchart-stats-panel limit-width-46\">\r\n                        <CustomRadarChart \r\n                            listOfData={{\r\n                                \"Chứng chỉ nghề công tác xã hội\": socialWorkLevels,\r\n                                \"Trình độ chuyên môn\": postEducations,\r\n                            }}\r\n                            config={socialWorksConfig}\r\n                        />\r\n                    </div>\r\n                    <div className=\"barchart-stats-panel limit-width-53\">\r\n                        <CustomRadarChart \r\n                            listOfData={{\r\n                                \"Trình độ chính trị\": politicalEducations,\r\n                                \"Trình độ quản lý nhà nước\": governLevels,\r\n                            }}\r\n                            config={governConfig}\r\n                        />\r\n                    </div>\r\n                    {/* <BraillePieChart brailleData={educations} /> */}\r\n                </div>\r\n                <Divider/>\r\n                <div className=\"sub-container-flex-row\">\r\n                    <div className=\"limit-width-39\">\r\n                        <Statistic\r\n                            className=\"wrap-border\"\r\n                            title=\"Số người có chứng chỉ quản lý công tác hội\" //From all or from organization\r\n                            value={totalBMC}\r\n                        />\r\n                        <Statistic\r\n                            className=\"wrap-border\"\r\n                            title=\"Số người biết nhiều hơn 2 ngoại ngữ\" //From all or from organization\r\n                            value={totalMoreThan2Languages}\r\n                        />\r\n                        <div className=\"summary-child\">\r\n                            <CustomCount selectState={selectState}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"barchart-stats-panel limit-width-60\">\r\n                        <EducationsChart config={{}} data={educations}/>\r\n                    </div>\r\n                </div>\r\n                <Divider />\r\n                <div className=\"summary-child\">\r\n                    <div \r\n                        className=\"stats-card__2nd_type\"\r\n                        style={{\r\n                            backgroundColor: \"#d7f0dd\",\r\n                            color: \"#35b653\"\r\n                        }}\r\n                    >\r\n                        <div>\r\n                            <div>\r\n                                <h3\r\n                                    style={{\r\n                                        color: \"#35b653\"\r\n                                    }}\r\n                                >\r\n                                    {\r\n                                        //@ts-expect-error _id is a string\r\n                                        Enum.Religion[medianReligion._id]\r\n                                    }\r\n                                </h3>\r\n                                <h5>\r\n                                    {\"Tôn giáo chủ yếu\"}\r\n                                </h5>\r\n                            </div>\r\n                            <BookOutlined \r\n                                style={{\r\n                                    fontSize: \"150%\"\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <MaxOrgCard \r\n                        viewer={viewer}\r\n                        maxOrgState={maxOrgState}\r\n                        max={maxOrganization?._id}\r\n                        min={minOrganization?._id}\r\n                        setMaxOrgState={setMaxOrgState}\r\n                    />\r\n                    <div \r\n                        className=\"stats-card__2nd_type\"\r\n                        style={{\r\n                            backgroundColor: \"#cfe2ff\",\r\n                            color: \"#0d6efd\"\r\n                        }}\r\n                    >\r\n                        <div>\r\n                            <div>\r\n                                <h3\r\n                                    style={{\r\n                                        color:\"#0d6efd\"\r\n                                    }}\r\n                                >\r\n                                    { //@ts-expect-error _id is a string\r\n                                    Enum.IncomeType[medianIncome._id]}\r\n                                </h3>\r\n                                <h5>\r\n\r\n                                    {\"Đời sống gia đình chủ yếu\"}\r\n                                </h5>\r\n                            </div>\r\n                            <HomeOutlined \r\n                                style={{\r\n                                    fontSize: \"150%\"\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/* May be click here again to change title and value to smallest */}\r\n    \r\n            </div>\r\n        )\r\n    } \r\n\r\n    return <h1>Cannot fetch data</h1>\r\n\r\n}","import { gql } from \"@apollo/client\";\r\n\r\nexport const UPDATE_ORGANIZATION = gql`\r\n    mutation UpdateOrganization($organizationId : String!, $input: OrganizationInput!) {\r\n        updateOrganization( organizationId : $organizationId, input: $input) \r\n    }\r\n`;","import { useHistory } from \"react-router\";\r\nimport { Card, Button, Form, PageHeader } from \"antd\"\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { convertEnumTrueFalse, createFormItem, organizationFormItems, SelectOrganizations } from \"../../utils\";\r\nimport { Organization as OrganizationData, OrganizationVariables } from \"../../../../lib/graphql/queries/Organization/__generated__/Organization\";\r\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport { QUERY_ORGANIZATION } from \"../../../../lib/graphql/queries\";\r\nimport { Viewer } from \"../../../../lib\";\r\nimport { UpdateOrganization as UpdateOrganizationData, UpdateOrganizationVariables } from \"../../../../lib/graphql/mutations/UpdateOrganization/__generated__/UpdateOrganization\";\r\nimport { UPDATE_ORGANIZATION } from \"../../../../lib/graphql/mutations/UpdateOrganization\";\r\nimport { displayErrorMessage, displaySuccessNotification } from \"../../../../lib/utils\";\r\n\r\nconst { Item } = Form;\r\n\r\ninterface Props {\r\n    viewer: Viewer;\r\n}\r\n\r\nexport const EditOrganization = ({ viewer } : Props) => {\r\n    const history = useHistory();\r\n    const [fields, setFields] = useState<any>([]);\r\n    const [selectState, setSelectState] = useState<string>(viewer.organization_id || \"\");\r\n    const [getOrganization, { data: orgData }] = \r\n    useLazyQuery<OrganizationData, OrganizationVariables>(\r\n        QUERY_ORGANIZATION, {\r\n            fetchPolicy: \"no-cache\"\r\n        }\r\n    );\r\n\r\n    const [updateOrganization, { data: updateData, loading: updateLoading, error: updateError }] = useMutation<UpdateOrganizationData, UpdateOrganizationVariables>(UPDATE_ORGANIZATION, {\r\n            onCompleted: data => {\r\n                    if (data.updateOrganization) {\r\n                        displaySuccessNotification(\"Thành viên đã được cập nhật \")\r\n                    }\r\n                },\r\n            fetchPolicy: \"no-cache\"\r\n            },\r\n        );\r\n\r\n    const ref = useRef(getOrganization);\r\n\r\n    if (updateError) displayErrorMessage(`Không thể cập nhật thành viên ${updateError}`);\r\n\r\n    useEffect(() => {\r\n        if (selectState && selectState !== \"\") {\r\n            ref.current({\r\n                variables: {\r\n                    organizationId: selectState\r\n                }\r\n            })\r\n        } \r\n    }, [selectState])\r\n\r\n    useEffect(() => {\r\n        if (orgData && orgData.organization)  {\r\n            const { organization } = orgData;\r\n\r\n            const newFields : any[] = [] \r\n            Object.keys(organization).forEach((k, _) => {\r\n                //@ts-expect-error: The key of this dict is still the key of that dict\r\n                let value = organization[k];\r\n                    newFields.push(\r\n                        {\r\n                            name: k,\r\n                            value: value\r\n                        }\r\n                    )\r\n                })\r\n\r\n            setFields(newFields)\r\n        }\r\n    },[orgData])\r\n\r\n    useEffect(() => {\r\n        if (viewer.isAdmin) {\r\n            if (updateData?.updateOrganization) {\r\n                ref.current({\r\n                    variables: {\r\n                        organizationId: selectState\r\n                    }\r\n                })\r\n            } \r\n        } else {\r\n            ref.current({\r\n                variables: {\r\n                    organizationId: viewer.organization_id || \"\"\r\n                }\r\n            })\r\n        }\r\n\r\n    }, [updateData, selectState, viewer])\r\n\r\n    const onFinish = (values : any) => {\r\n        values = convertEnumTrueFalse(values);\r\n        if (selectState && selectState !==\"\") {\r\n            updateOrganization({\r\n                variables: {\r\n                    organizationId: selectState,\r\n                    input: values\r\n                }\r\n            })\r\n        } else {\r\n            displayErrorMessage(\"Hãy chọn thành viên để chỉnh sửa\")\r\n        }\r\n\r\n    }\r\n    return <section className=\"profile-section\" >\r\n            <PageHeader\r\n                ghost={false}\r\n                style={{\r\n                    backgroundColor: \"white\",\r\n                    marginTop: 24,\r\n                }}\r\n                className=\"profile__page-header\"\r\n                onBack={() => history.push(\"/members\")}\r\n                title=\"Quay lại\"\r\n            />\r\n            <Card\r\n                headStyle={{\r\n                    height: 150,\r\n                    fontWeight: 400,\r\n                    fontSize: 24,\r\n                    letterSpacing: 1,\r\n                    WebkitBoxShadow: \"0 0.125rem 0.25rem rgb(0 0 0 / 8%)\",\r\n                    boxShadow: \"0 0.125rem 0.25rem rgb(0 0 0 / 8%)\",\r\n                    paddingLeft: 50,\r\n                    paddingTop:30\r\n                }}\r\n                style={{\r\n                    marginTop: \"5%\",\r\n                    borderRadius: 25,\r\n                    boxShadow: \"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px\",\r\n                    fontFamily: '\"Poppins\",system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"',\r\n                }}\r\n                bodyStyle={{\r\n                    padding: \"40px 40px\"\r\n                }}\r\n                extra={\r\n                    viewer.isAdmin &&\r\n                    <SelectOrganizations \r\n                        selectState={selectState}\r\n                        setSelectState={setSelectState}\r\n                        config={{\r\n                            className: \"stats__organizations-select\",\r\n                        }}\r\n                    />\r\n                }\r\n                title=\"Xem và chỉnh sửa thành viên\"\r\n            >\r\n                <Form\r\n                    onFieldsChange={\r\n                        (newFields) => { setFields(newFields) }\r\n                    }\r\n                    fields={fields}\r\n                    onFinish={onFinish}\r\n                    layout=\"vertical\"\r\n                >\r\n                    { organizationFormItems.map((item) => createFormItem(item)) }\r\n                    <Item>\r\n                        <Button \r\n                            loading={updateLoading}\r\n                            style={{width: 100}} \r\n                            htmlType=\"submit\" type=\"primary\">Lưu</Button>\r\n                    </Item>\r\n                    </Form>\r\n            </Card>\r\n        </section>\r\n\r\n}","import { gql } from \"@apollo/client\";\r\n\r\nexport const LOG_IN = gql`\r\n    mutation LogIn($input: LogInInput) {\r\n        logIn(input: $input) {\r\n            id\r\n            name\r\n            token\r\n            avatar\r\n            isAdmin \r\n            organization_id \r\n            didRequest\r\n            registering\r\n        }\r\n    }\r\n`;","import { gql } from \"@apollo/client\";\r\n\r\nexport const LOG_OUT = gql`\r\n    mutation LogOut {\r\n        logOut {\r\n            id\r\n            name\r\n            token\r\n            avatar\r\n            isAdmin \r\n            organization_id \r\n            didRequest\r\n        }\r\n    }\r\n`;","import { useMutation } from \"@apollo/client\";\r\nimport { Button, Badge, Tooltip } from \"antd\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Viewer } from \"../../lib\";\r\nimport { BellFilled, LogoutOutlined, MenuUnfoldOutlined, MenuFoldOutlined } from \"@ant-design/icons\";\r\nimport { LOG_OUT } from \"../../lib/graphql/mutations\";\r\nimport { LogOut as LogOutData } from \"../../lib/graphql/mutations/LogOut/__generated__/LogOut\";\r\nimport { displayErrorMessage, displaySuccessNotification } from \"../../lib/utils\";\r\nimport { useWindowDimensions } from \"../Page/utils\";\r\n\r\n\r\ninterface Props {\r\n    setViewer: (viewer: Viewer) => void;\r\n    setDisplayNotification : any;\r\n    setIsOpen: (isOpen: any) => void;\r\n    isOpen: boolean;\r\n    totalMessages: number;\r\n    totalMessageLoading: boolean;\r\n    displayNotification: boolean;\r\n    bellRef : any,\r\n}\r\n\r\nexport const AppHeader = ({ \r\n    totalMessageLoading, \r\n    displayNotification,\r\n    setViewer, \r\n    totalMessages, \r\n    setDisplayNotification, \r\n    isOpen, \r\n    setIsOpen ,\r\n    bellRef\r\n} : Props) => {\r\n\r\n    const history = useHistory();\r\n    const [logOut] = useMutation<LogOutData>(LOG_OUT, {\r\n        onCompleted: (data) => {\r\n            if (data && data.logOut) {\r\n                setViewer(data.logOut);\r\n                sessionStorage.removeItem(\"token\");\r\n                history.push(\"/login\")\r\n                displaySuccessNotification(\"Bạn đã log out\")\r\n            }\r\n        }, \r\n        onError: err => {\r\n            displayErrorMessage(\r\n                `Có lỗi xảy ra: ${err}`\r\n            )\r\n        }\r\n    })\r\n\r\n    const changeState = () => { \r\n        setDisplayNotification(!displayNotification)\r\n    };\r\n\r\n    const { width } = useWindowDimensions();\r\n    return (\r\n        <header className=\"app-header__header\">\r\n            {width < 1500 ? \r\n                <Button \r\n                    onClick={() => setIsOpen((isOpen : boolean) => !isOpen)}\r\n                    style={{ \r\n                            zIndex: 10,\r\n                            marginLeft: width < 1500 && isOpen ? 50 : 100,\r\n                            backgroundColor: \"transparent\",\r\n                            borderColor: \"transparent\",\r\n                        }} \r\n                    icon={ \r\n                    isOpen ?  <MenuFoldOutlined \r\n                        style={{\r\n                            fontSize: \"150%\",\r\n                            backgroundColor: \"transparent\",\r\n                            borderColor: \"transparent\",\r\n                            color: \"#4650DD\"\r\n                        }}\r\n                    /> : <MenuUnfoldOutlined \r\n                        style={{\r\n                            fontSize: \"150%\",\r\n                            backgroundColor: \"transparent\",\r\n                            borderColor: \"transparent\",\r\n                        }}\r\n                    /> \r\n                }\r\n                /> : null\r\n                }\r\n\r\n                <div className=\"app-header__notification\">\r\n                    <div className=\"notification-bell\"  ref={bellRef} >\r\n                        <Tooltip \r\n                            placement=\"top\" \r\n                            title=\"Thông báo\">\r\n                                { totalMessages > 0 || !totalMessageLoading ? \r\n                                    <Badge \r\n                                        style={{\r\n                                            marginTop: 3,\r\n                                        }}\r\n                                        count={totalMessages}>\r\n                                        <Button \r\n                                            onClick={changeState}\r\n                                            style={{ \r\n                                                backgroundColor: \"transparent\",\r\n                                                borderColor: \"transparent\",\r\n                                                }} \r\n                                            icon={<BellFilled\r\n                                                style={{\r\n                                                    fontSize: \"150%\",\r\n                                                }}\r\n                                            />}\r\n                                            >\r\n                                        </Button>\r\n                                    </Badge>\r\n                                : \r\n                                    <Button \r\n                                        onClick={changeState}\r\n                                        style={{ \r\n                                            backgroundColor: \"transparent\",\r\n                                            borderColor: \"transparent\",\r\n                                            }} \r\n                                        icon={<BellFilled\r\n                                            style={{\r\n                                                fontSize: \"150%\",\r\n                                            }}\r\n                                        />}\r\n                                        >\r\n                                    </Button>\r\n                                }\r\n                        </Tooltip>\r\n                    </div>\r\n                    <Tooltip \r\n                        placement=\"top\" \r\n                        title=\"Đăng xuất\">\r\n                    <Button \r\n                        icon={<LogoutOutlined \r\n                            style={{\r\n                                fontSize: \"150%\",\r\n                                backgroundColor: \"transparent\",\r\n                                borderColor: \"transparent\",\r\n                                color: width < 1500 && isOpen ? \"white\" : \"inherit\"\r\n                            }}\r\n                        />}\r\n                        style={{ \r\n                            backgroundColor: \"transparent\",\r\n                            borderColor: \"transparent\"\r\n                            }} \r\n                        onClick={\r\n                        () => {\r\n                            logOut();\r\n                        }\r\n                    }/>\r\n                    </Tooltip>\r\n                </div>\r\n        </header>\r\n    )\r\n}\r\n\r\n","import { Divider } from \"antd\";\r\n//https://www.google.com/search?q=404+icon+white&tbm=isch&ved=2ahUKEwiotO72_f7xAhUQBpQKHcVhAO8Q2-cCegQIABAA&oq=404+icon+white&gs_lcp=CgNpbWcQA1DIXlijYmCYY2gAcAB4AIABTogB5gKSAQE1mAEAoAEBqgELZ3dzLXdpei1pbWfAAQE&sclient=img&ei=Nb_9YOjFFJCM0ATFw4H4Dg&bih=937&biw=1920#imgrc=Tg6cEqGPioH4EM\r\nimport errImg from \"./assets/error-404.png\";\r\n\r\nexport const NotFound = () => {\r\n    return <div className=\"pending__container\">\r\n        <div className=\"pending__text-container\">\r\n            <h1>Link không tồn tại</h1>\r\n            <h3>Không thể tìm được đường link, xin vui lòng nhập đúng url</h3>\r\n            <Divider />\r\n            <img  width={300}\r\n            src={errImg} alt=\"Anh thể hiện trang không vào được\"/>\r\n\r\n        </div>\r\n    </div>\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA3eAAAN3gG05XH5AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAuJQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/bqXdAAAAPV0Uk5TAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkbHR4fICEiIyQlJicoKSorLC0uLzAxMjM0NTY3OTo7PD0+P0BBQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2eHl6e3x9fn+AgYKDhIWGh4iJioyNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u72+v8DBwsPExcbHyMnLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6+zt7u/w8fLz9PX29/j5+vv8/f7Tx20dAAASXklEQVR42u2de2AV1ZnA5+YmBChGcbGETQDLw1qC2LXNGpaHPMpToRE16KKVVxaDGm1QMViLLmCXRpGWFKmo9BUW69paRWpDQ/BBLD6gNDWhblwIgoaHAknm/+WVm3vOzNw7Z2YuzJ37+/3Hd86ZHL7vl/vNnZl7o2kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcKHIGjp+1qKKqpr6Rkgq6muqKhbNGj80y031+5ZsOalDUnNyS0lfZ9UftqSO9AWDuiXDVKufPq+BvAWJhnnpKvWftpuUBY3d02yXv6CGdAWRmgJb5R+8iVQFlU2D49e/8Ch5Ci5HC+OUP7SknSwFmfYloVj1715FioJOVXfr+ufyzj8VrgrkWtU/fz/ZSQX255vXv38zuUkNmvub1b/HTjKTKuzsYXL+/yJ5SR1eNL4XWGo1t2XjsoU3FgzoB0nFgIIbFy7b2GJV1aVy/W82n7dvzcRMHopIXjInrtlnXtmbxYl5x8wmNRSlkcNkJ63I9MbusTxh1msmUw6W8ssfjJeB0oMm5X0tespYkwkbepK6oNBzg0mBx0a9AzBeAWwrI21BoqzNeEWw853ATOOp/xRyFiymGN8QzIz0iEZ56FAeGQsaeYfkKjd2nOOVyiOt48hX8BjXKte59OxA2HAPYCHZCiILDfcEwmfio+V4JbkKJpVypUefCa+Uok3dSFUw6dYklXrlmbB8oWg2mQoqs+VLvaeDV0nBXWESFVTCu6RiX3UqWC7FppOn4DJdKnb5qdgOMVRPloJMvVjtHZqWIzmxgiQFmRVSuXO0MVJkuMmqfnPXbH22ZIghnjN7dfXz937TEM++Y1X1C6XfstxF9h1Pbn0XlKh5enaOZUKvufe5t6T52yvnDzCZOVwq9xjtNumJUeMTAGl3n/2wUNvyrkI8VHzk7GcNVklPmM06d9FxjcWXE9x6iGeynHB4rnk+e/zEfP6XZcbz+TTpye/btDIxsNZ45rg5MvjhJdGHejkS/yg7ekHnrce9ps4+QymdstHsYz3ZH1nO/1OGYfZacUaZViEG7jOseDBq9DmLC4ubouLfi37owGTDt1BH58w3EeC3MeY/Yph9nzihQpM+DFYkL8g7ET18fSR++VHzJ8xyhNuOxhetXgcoo4sukKP2C3VyqDy9SJxQpW0TA6PkBT8Qhn8did8rxF+KxIuFeLVhvzOoohvmGBL63zHnPyxPHyWOb9P2ioFB8oKXLa4SPC/E/zcS/5n4YImhByyniG5YYxDgHzHnvyRPHySO79WOiwHDibsoSHvko6V/EddFHiB8U4wbPoT0KkV0w5tyPnvGnr9Xnp8ljh/XpAVd5QW14pPCkfgrQvxI5N2j+P0ird3jnIWC4vsAw/u6wzHn18jzu0oT4gqwShh+PRJfavFzFgvxDwyvWMUU0Q0PGBJaHXN+hWsBbjLcPDjLeCH+eCQ+UoivNux3KEV0wwhDQh+LOX+GawFCm6NG90S9oke/1u+NOnWIPjvc18v4tvWnVNE5vzLmMyvWWeAbIdcCaDmfRwbb/jX6AtSnnauiHyLt2WR22aCTixqpo1P2m/xCaeOs5x8xfhGAugDakHfOjX00Wohf0XF+2DRJiPffci7+fzeYXrrO3UwlnVEz0DShkz6xmP8Xk2+IdSCAlr5o+zH9xI5l8rcKhO+pOaKf3LnyErlrzKs+rLe+99SlFveuQnOrW6imKkdq7rb6qO6lT+40fqn3F28u7qJ5I8DpWn+ti2k87fKuFvHYT5aGvjYMlBgY+4PaXb8hzb/C4ruBHQoAQQEBEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEIAUIQAgACAApKQA1W9AoKmOIwCkGAiAAIAAgACAAIAAgACAAIAAgACAAIAAgACQQgKMGwWBZlwcAXgghCeCAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAEOBC808zFt8xpqf1+GUTHiq5trvDg6f1uWbq/EdXSjw6f+o1fdJc7jtjxAMLpg6Mkf384oen9EGAOPT9Y9vprXz6H2Hz8d4bz2z1+MMZyocOj/jRnlbdktY9PxoRdrzv9BWHTx+k/ecWJU6759iZn7I5FwFiMf5Ax2bevshsfFJkvK6f2v996jPNelyan5nqLAnZWzsOcXis6ctWZLzlJgSw5ooTnbupMhn/5886x6tDCr+fcz/RbfLJ3HT1fYe2R0mUYzJhU+f4F1cggCV/iN5OsXH8d9Hjd9k+7PTdugK7pyvve2b0+q1xxreHEcCC7wjb2WZ8gRDGG20etaBWV6S2QPH872NheX/DhDphfCQCWPAL8azs4pi/SLp+ma2D3t+mK9N2vwtx9fnyeJcTwvjdCGBOt8Pifv5NnvBjcXyCjWNmrtcdsT5TYeNrxbU/k8e/KR0bASxatbSfQfKEX4rjs2ycndfqDqnNtt8BPhWXPhrnFeIPCGCnA+h6N9cC5H2sO+bjPIcdQP8eAnjSARo0twJku6j/KQOynXUAPR8BPOkAT7gVILNWd0VtpqMO8HEIATzpAPluBVivu2S9ow6wUkMALzrA3pBLAb6vu+b7TjrAtQiQoA6gJsCINvcCtI3wogMggEcdQEmA0FvmNW14dd0PyyR+uO7VBvPZb4U86AAIYGtz8TuAkgA3mdXz/YeGWM0f8tD7Zitu8qADIIAdpsXvACoCZPzdWMz6W2L+PoduqTeu+Xu85w5sdAAE8KgDqAhQYihle3ncZ0gyytsNy0rcdwAE8KgDKAjwFcPTH0cL7Wyj8KjhGZGvuO4ACOBRB1AQYIah/t+2t498gwEzXHcABLDBBhsdQEGAF+TX/0K7GymUu8ALrjsAAnjUAewLkHFI+q+V299KubT0UIbbDoAAHnUA+wKMkQ63R+E5v/Q90uIxsTrAQRsdAAE86gD2BXhKOlyhyl4KpcVPue0ACOBRB7AvQKM48R213byj23728Bk7HQABPOoAtgXoIp3IqT3hp90vnUB2cdkBEMCjDmBbgNx4z5bFZpC0PNdlB0AAjzqAbQHyxXl/Vd3PX23paLsDIEA8brDXAWwLIB3vJdX9vCSuv8FlB0AAjzqAbQGKxXmrVfezWlxf7LIDIEC8fbXY6wC2BXhUnLdYdUOL4zzmrdgBEMCjDmBbgJW6u0/i3G3vF9tuB0CAOLxgswP4TYAJNjsAAnjUAfwmgN0OgAAedQCfCWC7AyCARx3AZwLY7gAI4FEH8JkAtjsAAnjUAfwlgP0OgAAedQB/CWC/AyCARx3AXwLY7wAI4FEH8JUACh0AATzqAL4SQKEDIIBHHcBXAih0AASIwfUKHcBPAqh0AATwqAP4SQCVDoAAHnUAPwmg0gEQwKMO4CMBlDoAAljzvEoH8JEASh0AASzJVOoAPhJAqQMggEcdwD8CqHUABPCoA/hHALUOgAAedQD/CLBOqQMggEcdwDcCKHYABPCoA/hGAMUOgABWHeBztQ7gGwEUOwACWDBVsQP4RQDVDoAAHnUAvwig2gEQwKMO4BcBVDsAAnjUAXwigHIHQABznlPtAD4RYKJqB0AAjzqATwRQ7gAI4FEH8IcA6h0AATzqAP4QQL0DIIBHHcAfAqh3AATwqAP4QgD5W2htdAAE8KgD+EIABx0AATzqAL4QwEEHQACPOoAfBHDSARDAow7gBwGcdAAE8KgD+EEAJx0AAYxMcdIBfCCAow6AAPE7wJPz7CD9Lchnz4XnTsg+XwLIHaDW1r4rxEUfdMSLrgynqAByB3BN0+3nR4B1Hu/72LqLU1KAKbrn/E+v8yCA4W8RuecfI1NRgPV6Agw4DwJMTMC+P8tJPQE87wBn+PfEC7AuEfveHEo5ARLxixT9t30SJUD4UEI2PjLlBLgnIXnUL0u0ANmJ2fc9KSfAfyYmkRMSLcCQxOx7fcoJsC4xiZzecfylYvwB1f09IK5f2hEfnZh9/yblBPivxCSyb8fxF4jxVar7WyWuX9ARH5aYfT+YcgJcmZA8NkeO/11xYJPq/jaJ678bGXg7IRufmHrXAd5IRB47/0D0teLAe6rbe8/qhs+cROz7g66pJ8C4497ncUfnX/nuZ9Ub7NFXWt4vMtJjj/f7PvkvqXgzaORBr/O45+vW/9EStc2VWOflUs9fu764MyXvBmqD32r3Mo3tP+4WffQmcfTPanv7s3SjKXosY/URT+v/9pWpeTv4FD0nP/YTRerF/f7xXHj1ou98VTx2pfQ/G6+ysfHS4kpxOP1b965W3PfvpPs/HfHlRV9P01JWAAfY/vPxk6X/2bsKeU57V1o82fW+eSDkfAvQVX6dvsv+D7lLWnqkKwIknQDaRvlU+zq7P+O6k9LSjRoCJJ8At8onWwcH2zw5Nbw9uRUBklCASwxPHBwYZecnjDogr/v8EgRIQgG0Bw1vuE7Mjf8D5p5IyIV6BDj/AnRvMr7n3j469uFHbzd52rQ7AiSlANqdZpddXr+zt9X83ne+brbCk+t0CHABBAh/aHrlra322ccXzJJY8PiztW2m0z8MI0CSCqBN8uJK7SQNAZJVAG25+/ov1xAgeQVIe9lt/V9OQ4AkFkDL+sDlkxpZGgIkswDa5Qfc1P/A5RoCJLcA2nAXz50cHK4hQLILoA3c5bT+uwZqCOA3pMe1p9hYcvErzur/ipcf2/62eOwNCOCQ28X99rGzJvyEk/o/4ek3N3RrFQ5+PwI4JM/6Wb0YTPubavn/Ns3jjYvPmV+HAA4JbY3e7mK7yzKK96mUf19xhtcbFz6q9H4mAjhl4LHO3dal21/Xo/yw3fIfLu+RAHO3XJDPAQRPAO3WiAENQ5QW9prz+y/jV//L38/plZB950ZuTZ0o1hDAzWvA2S7Q/rT67+lFMzZ8Fqv6n22YcVHC9p257OyJYN1QDQHcvZrm3f7UY9Mdfq9OqPfVk+c8UvlLicpH5ky+uneCv6mlz/U/eHr21WENAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQAAEQgBQhACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAD4W4Dj4r+zSFGwyRLrfVzbKwYGkaJgM0is915tmxgYRYqCzSix3tu0KjFQRIqCTZFY7yqtQgzcR4qCzX1ivSu0MjGwlhQFm7Vivcu028TA/jRyFGTS9ov1vk0bI70vHE6SgsxwqdxjtBwpsoIkBZkVUrlzNG2HGKknSUGmXqz2jlOhcsmJ6WQpuEyXil1+KnaVFNsVJk9BJbxLKvZVp6MNUnA2iQoqs6VSN5yJrpSiTd3IVDDp1iSVeuWZ8GgpqleSqmBSKVd69NnG0CzHF5KrILJQrnPzudO9UnmgdRzZCh7jWuU6l54byWyURw7lka+gkXdIrnJjZsfYTHlIb5lCxoLFlBZDkWdGBkN1hsG2MnIWJMraDCWuC3UOj9WNbOhJ2oJCzw0mBR4bPeM1kwkHSzNJXRDILD1oUt7XxDOEYyZT9IYing5IetKKGsxqe0w6z79ZN2Xfmom8DCTzL//ENfvMK3uzPHWpbkHLxmULbywY0A+SigEFNy5ctrHFqqpLDa6EXtQhZXgxZHy16LGTvKQKO3uY9Yv+zWQmNWjub37GkL+f3KQC+/Otzhlz68hO8KnLtX7X0L2K/ASdqu6x3jeGlrSToiDTviQU59JB4VGyFFyOFsa/eDR4E3kKKpsG27p+WFBDqoJITYHtS8jTdpOuoLF7mspNhPR5DaQsSDTMS1e9kTRsCVcFgvLOf8kwZzcT+5ZsOUn6kpuTW0r6urmhnDV0/KxFFVU19Y2QVNTXVFUsmjV+KN/7BwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHDh+H/Qettb6jmcsAAAAABJRU5ErkJggg==\"","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_USER_INFO_FROM_MESSAGE = gql`\r\n    query MessageUserInfo (\r\n            $fromId : String!, \r\n            $fromOrganizationId : String!,\r\n            $content: String!\r\n            $type: MessageType!)\r\n    {\r\n        getUserInfoFromMessage(\r\n                fromId : $fromId, \r\n                fromOrganizationId : $fromOrganizationId\r\n                content: $content,\r\n                type: $type,\r\n            ) \r\n        {\r\n            userName\r\n            organizationName\r\n            memberName\r\n            email\r\n    }\r\n}`;\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport { Button, Skeleton } from \"antd\";\r\nimport { Viewer } from \"../../../../lib\";\r\nimport { ClientMessageAction , MessageType, ServerMessageAction } from \"../../../../lib/graphql/globalTypes\";\r\nimport { HANDLE_MESSSAGE } from \"../../../../lib/graphql/mutations/HandleMessageFromClient\";\r\nimport { HandleMessage as HandleMessageData, HandleMessageVariables } from \"../../../../lib/graphql/mutations/HandleMessageFromClient/__generated__/HandleMessage\";\r\nimport { LoadMessages as LoadMessagesData } from \"../../../../lib/graphql/queries/Messages/__generated__/LoadMessages\";\r\nimport { GET_USER_INFO_FROM_MESSAGE } from \"../../../../lib/graphql/queries/GetUserInfoFromMessage\";\r\nimport { MessageUserInfo as MessageUserInfoData, MessageUserInfoVariables } from \"../../../../lib/graphql/queries/GetUserInfoFromMessage/__generated__/MessageUserInfo\";\r\nimport { displayErrorMessage } from \"../../../../lib/utils\";\r\nimport { useEffect, useRef } from \"react\";\r\n\r\n\r\ntype ServerMessage = LoadMessagesData[\"loadMessages\"][\"results\"][0]; \r\n\r\ninterface Props {\r\n    viewer: Viewer;\r\n    serverMessage : ServerMessage,\r\n    setMessage: any;\r\n    avatar: string;\r\n    totalMessageRefetch: any;\r\n}\r\n\r\nexport const Message = ({ viewer, serverMessage, setMessage, avatar, totalMessageRefetch } : Props) => {\r\n\r\n    const [ getMessageUserInfoData, { data : MessageUserInfoData, loading: MessageUserInfoLoading }] = useLazyQuery<MessageUserInfoData, MessageUserInfoVariables>(GET_USER_INFO_FROM_MESSAGE, {\r\n            variables : {\r\n                fromId: serverMessage.from_id,\r\n                fromOrganizationId: serverMessage.from_organizationId,\r\n                type: serverMessage.type,\r\n                content: serverMessage.content //Expect a member Id\r\n            },\r\n            onCompleted: data => {\r\n            },\r\n            onError: err => displayErrorMessage(`Không thể tải thông tin người gửi tin nhắn: ${err}`)\r\n        });\r\n\r\n    const [handleMessage, { data, loading }] = useMutation<HandleMessageData, \r\n    HandleMessageVariables>(HANDLE_MESSSAGE, {\r\n        onError: err => displayErrorMessage(`Không thể thực hiện thao tác ${err}`)\r\n    });\r\n\r\n    const handleMessageClick = (action : ServerMessageAction) => {\r\n        const input = {\r\n                    type: serverMessage.type,\r\n                    action, \r\n                    from_id: viewer.id || \"\",\r\n                    to_organizationId: serverMessage.from_organizationId,\r\n                    content: serverMessage.content //Expect member ID\r\n                }\r\n        if (serverMessage.type === MessageType.REGISTER) {\r\n            //@ts-expect-error nothing important\r\n            input[\"to_id\"] = serverMessage.from_id;\r\n        }\r\n\r\n        handleMessage({\r\n            variables: {\r\n                input\r\n            }\r\n        })\r\n        totalMessageRefetch();\r\n    }\r\n\r\n    const ref = useRef(getMessageUserInfoData);\r\n\r\n    useEffect(() => {\r\n        // Better to combine uselazyquery with use effect\r\n        if (serverMessage.action === ClientMessageAction.APPROVE_DECLINE) {\r\n            ref.current(); //Only call here because this need to change content\r\n        }\r\n    }, [serverMessage.action])\r\n\r\n    const ref2 = useRef(setMessage);\r\n\r\n    useEffect(() => {\r\n        if (data?.handleMessageFromClient === \"true\" && !loading) {\r\n            //Delete when success\r\n            ref2.current((messages : ServerMessage[]) => messages.filter(\r\n                message => message.content !== serverMessage.content\r\n            ))\r\n        }\r\n    }, [data, serverMessage.content, loading])\r\n\r\n    const messageUserInfo = MessageUserInfoData?.getUserInfoFromMessage;\r\n\r\n    const createRegisterMessageContent = (content : string) => {\r\n        const operation = content.split(\"-\")[0];\r\n        let displayContent = \"\"\r\n        if (operation === \"exist\") {\r\n            displayContent = `Người dùng ${\r\n                messageUserInfo?.userName} xin gia nhập thành viên đã có ${\r\n                    messageUserInfo?.organizationName}`\r\n        } else {\r\n            displayContent = `Người dùng ${\r\n                messageUserInfo?.userName} xin tạo mới thành viên ${\r\n                    messageUserInfo?.organizationName}` //It's the name now\r\n        }\r\n\r\n        return displayContent;\r\n\r\n    }\r\n    if (MessageUserInfoLoading) {\r\n        return <Skeleton paragraph={{rows: 1}}/>\r\n    }\r\n\r\n    switch (serverMessage.action) {\r\n        case ClientMessageAction.INFO:\r\n            return <div className=\"message__container\">\r\n                <div className=\"message__img-container\">\r\n                    <img alt=\"anh nguoi dung\" src={avatar}></img>\r\n                </div>\r\n                <div className=\"message__description\">\r\n                    <h5>{serverMessage.content}</h5> \r\n                </div>\r\n                <div className=\"message__controls\">\r\n                    <Button\r\n                        onClick={() => handleMessageClick(ServerMessageAction.DELETE)}\r\n                        loading={loading}\r\n                        type=\"primary\"\r\n                        size=\"small\"\r\n                    >Xác nhận</Button> </div>\r\n            </div>\r\n\r\n        case ClientMessageAction.APPROVE_DECLINE:\r\n            return <div className=\"message__container\">\r\n                <div className=\"message__img-container\">\r\n                    <img alt=\"anh nguoi dung\" src={avatar}></img>\r\n                </div>\r\n                <div className=\"message__description\">\r\n                    <h4>{messageUserInfo?.userName}</h4>\r\n                    <h3>{messageUserInfo?.email}</h3>\r\n                    { serverMessage.type === MessageType.TRANSFER ?  \r\n                    <h5>{`Thành viên ${messageUserInfo?.organizationName} muốn chuyển hội viên ${messageUserInfo?.memberName}`}</h5> \r\n                    :\r\n                    <h5>{createRegisterMessageContent(serverMessage.content)}</h5>\r\n                    }\r\n                </div>\r\n                <div className=\"message__controls\">\r\n                    <Button\r\n                        onClick={() => handleMessageClick(ServerMessageAction.DECLINE)}\r\n                        type=\"default\"\r\n                        danger\r\n                        size=\"small\"\r\n                    >Từ chối</Button>\r\n                    <Button\r\n                        style={{\r\n                            marginRight: 10\r\n                        }}\r\n                        onClick={() => handleMessageClick(ServerMessageAction.APPROVE)}\r\n                        type=\"primary\"\r\n                        size=\"small\"\r\n                        loading={loading}\r\n                    >Đồng ý</Button>\r\n                </div>\r\n            </div>\r\n    }\r\n}","import { gql } from \"@apollo/client\";\r\n\r\nexport const QUERY_MESSAGES = gql`\r\n    query LoadMessages($viewerId : String!) {\r\n        loadMessages(viewerId: $viewerId) {\r\n            total \r\n            results {\r\n                action\r\n                type\r\n                from_id\r\n                from_organizationId \r\n                content\r\n            }\r\n            avatars\r\n        }\r\n    }\r\n`;","import { Spin} from \"antd\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { Message } from \"./components\";\r\nimport { Viewer } from \"../../lib\";\r\nimport { LoadMessages as LoadMessagesData, LoadMessagesVariables } from \"../../lib/graphql/queries/Messages/__generated__/LoadMessages\";\r\nimport { QUERY_MESSAGES } from \"../../lib/graphql/queries/Messages\";\r\nimport { displayErrorMessage } from \"../../lib/utils\";\r\nimport { useOverlapAlerter } from \"../Page/utils\";\r\n\r\ninterface Props {\r\n    viewer : Viewer;\r\n    totalMessageRefetch: any;\r\n    setDisplayNotification: any;\r\n    bellRef: any;\r\n}\r\n\r\nexport const NotificationsBox = ({ bellRef, viewer, totalMessageRefetch, setDisplayNotification } : Props ) => {\r\n    type ServerMessage = LoadMessagesData[\"loadMessages\"][\"results\"][0];\r\n\r\n    const [ messages, setMessages ] = useState<ServerMessage[]>();\r\n    const [ avatars, setAvatars ] = useState<string[]>();\r\n    const { refetch, loading } = useQuery<LoadMessagesData, LoadMessagesVariables>(\r\n        QUERY_MESSAGES, { \r\n            variables: {\r\n                viewerId: viewer.id || \"\",\r\n            },\r\n            onCompleted: data => {\r\n                setMessages(data.loadMessages.results)\r\n                setAvatars(data.loadMessages.avatars)\r\n            },\r\n            fetchPolicy: \"no-cache\",\r\n            pollInterval: 500,\r\n            onError: err => displayErrorMessage(`Không thể tải tin nhắn ${err}`)\r\n        }, \r\n    )\r\n\r\n    const ref = useRef(refetch);\r\n\r\n    useEffect(() => {\r\n        ref.current();\r\n\r\n    }, [messages])\r\n\r\n    const wrapperRef = useRef(null);\r\n\r\n    useOverlapAlerter(wrapperRef, bellRef, \r\n        () => setDisplayNotification(false), // Handle click anywhere\r\n        () => setDisplayNotification((state:boolean) => !state)); // Handle click inside\r\n\r\n\r\n    return <div \r\n                ref={wrapperRef}\r\n                className=\"notification-box-container\"\r\n                >\r\n            <div className=\"notification-box\">\r\n            { !loading ? \r\n                    <>  \r\n                        <div className=\"notification-box__text\">\r\n                            Thông báo mới\r\n                        </div>\r\n                        { \r\n                            messages && messages.length > 0 ? \r\n                                messages.map( ( serverMessage : ServerMessage, index : number ) => \r\n                                    <Message \r\n                                        totalMessageRefetch={totalMessageRefetch}\r\n                                        key={serverMessage.content}\r\n                                        viewer={viewer} \r\n                                        serverMessage={ serverMessage } \r\n                                        setMessage = { setMessages }\r\n                                        avatar={avatars ? avatars[index] : \"https://bolgatangabaskets.com/wp-content/uploads/2019/05/placeholder-image.png\"}\r\n                                    />) \r\n                                : \r\n                                <div className=\"message__no-items\" > \r\n                                    <h3>\r\n                                        Không có thông báo\r\n                                    </h3>\r\n                                </div>\r\n                        } \r\n                    </> \r\n                    :\r\n                    <div className=\"message__no-items\" > \r\n                        <Spin />\r\n                    </div> }\r\n            </div>\r\n    </div>\r\n}\r\n\r\n\r\n// const mock = [\r\n//     {\r\n//         \"name\" : \"Tran Van Ngu\",\r\n//         \"organization_name\": \"Thanh Xuan\",\r\n//         \"content\": \"Toi muon gia nhap thanh vien \"\r\n//     },\r\n//     {\r\n//         \"name\" : \"Tran Van Cac\",\r\n//         \"organization_name\": \"Long Bien\",\r\n//         \"content\": \"Toi muon gia nhap thanh vien \"\r\n//     }\r\n// ]","const gray = {\r\n    \"1\" : \"#ffffff\",\r\n    \"2\" : \"#fafafa\",\r\n    \"3\" : \"#f5f5f5\",\r\n    \"4\" : \"#f0f0f0\",\r\n    \"5\" : \"#d9d9d9\",\r\n    \"6\" : \"#bfbfbf\",\r\n    \"7\" : \"#8c8c8c\",\r\n    \"8\" : \"#595959\",\r\n    \"9\" : \"#434343\",\r\n}\r\n\r\nexport const bgColor = {\r\n    \"container\" : gray[1],\r\n    \"header\": \"#000\",\r\n    \"content\": gray[2],\r\n    \"aside\" : gray[2],\r\n    \"asideMenu\" : gray[3],\r\n    \"asideMenuItem\" : gray[4],\r\n    \"footer\": gray[4],\r\n    \"notificationsList\" : gray[2] \r\n}\r\n","import { useLazyQuery, useQuery } from \"@apollo/client\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport { Viewer } from \"../../../../../../lib\";\r\nimport { MEMBERS, QUERY_ORGANIZATION } from \"../../../../../../lib/graphql/queries\";\r\nimport { Members as MembersData, MembersVariables } from \"../../../../../../lib/graphql/queries/Members/__generated__/Members\";\r\nimport { cleanExcelData, FormItems, useWindowDimensions } from \"../../../../utils\";\r\nimport { Organization as OrganizationData, OrganizationVariables } from \"../../../../../../lib/graphql/queries/Organization/__generated__/Organization\";\r\nimport { displayErrorMessage } from \"../../../../../../lib/utils\";\r\n\r\ninterface Props {\r\n  viewer         : Viewer\r\n  filterState    : any\r\n  searchData     : any\r\n  organizationId : string\r\n}\r\n\r\nexport const DownloadButton = ({ viewer, filterState, searchData, organizationId} : Props) => {\r\n    const { width } = useWindowDimensions();\r\n    //Set header for the excel sheet\r\n    const headers = FormItems.map(formItem =>  {\r\n      return { label: formItem.label, key : formItem.name}\r\n    })\r\n\r\n    const PAGE_LIMIT = 10000; //This is differnet than member table, where you download all members\r\n    const { data, refetch } = useQuery<MembersData, MembersVariables>(MEMBERS, {\r\n        variables: {\r\n            organizationId: viewer.organization_id || \"\",\r\n            limit: PAGE_LIMIT,\r\n            page: 1\r\n        }, \r\n        fetchPolicy: \"cache-and-network\",\r\n    });\r\n\r\n    const [getOrganization, { data: orgData }] = \r\n    useLazyQuery<OrganizationData, OrganizationVariables>(\r\n        QUERY_ORGANIZATION, {\r\n            fetchPolicy: \"no-cache\",\r\n            onError: err => displayErrorMessage(`Không thể tải tên thành viên. Thử lại vào lần sau: ${err}`)\r\n        }, \r\n    );\r\n\r\n    const fetchRef = useRef(refetch);\r\n    useEffect(() => {\r\n        fetchRef.current({\r\n            //Admin will be viewer.isAdmin && organizationId !== \"\" ? organizationId , the other side is for not admin\r\n            organizationId: viewer.isAdmin && organizationId !== \"\" ? organizationId : viewer.organization_id || \"\",\r\n            limit: PAGE_LIMIT,\r\n            page: 1,\r\n            input: {\r\n                keyword : searchData.keyword,\r\n                filter  : searchData.filter\r\n            }\r\n        })\r\n\r\n      getOrganization({\r\n        variables: {\r\n          organizationId : viewer.isAdmin ? organizationId : viewer.organization_id ? viewer.organization_id : \"\"\r\n        }})\r\n    }, [viewer.organization_id, searchData, viewer.isAdmin, organizationId, filterState, getOrganization]) \r\n\r\n    return (    \r\n      <CSVLink  \r\n          className={ width < 700 ? \"content__create-user sm\" : \"content__create-user\"}\r\n          headers={headers}\r\n          filename={\r\n            `Thống kê hội người mù${orgData && orgData.organization ? \" \" + orgData.organization.name + \" \" : viewer.isAdmin ? ' TP Hà Nội ' : \"\"}ngày ${new Date().toISOString().slice(0, 10)}.csv`\r\n          }\r\n          data={data && data.members ? cleanExcelData(data.members.results) : [] }>\r\n            Lưu Thống Kê\r\n        </CSVLink>\r\n    )\r\n\r\n}","import { MembersTable, CreateUser, Profile, Statistics, EditOrganization } from \"./components\"\r\nimport { Switch, Route } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { SideBar } from \"../SideBar\";\r\nimport { AppHeader } from \"../AppHeader\";\r\nimport { NotFound } from \"../NotFound\";\r\nimport { NotificationsBox } from \"../NotificationsBox\";\r\nimport { Viewer } from \"../../lib\";\r\nimport { bgColor } from \"../../lib/bgColor\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { useWindowDimensions } from \"./utils\";\r\nimport { LoadMessages as LoadMessagesData, LoadMessagesVariables } from \"../../lib/graphql/queries/Messages/__generated__/LoadMessages\";\r\nimport { QUERY_MESSAGES } from \"../../lib/graphql/queries/Messages\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { displayErrorMessage } from \"../../lib/utils\";\r\nimport { CascaderValueType } from \"antd/lib/cascader\";\r\nimport { DownloadButton } from \"./components/MembersTable/components/DownloadButton\";\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n  isOpen: boolean; // Belong to sidebar\r\n  setIsOpen: (value: boolean) => void;\r\n}\r\n\r\n\r\nexport const Page = ({ viewer, setViewer, isOpen, setIsOpen } : Props) => {\r\n    const bellRef = useRef(null); //Handle overlap click on the bell icon for displaying notifications box\r\n    const [displayNotification, setDisplayNotification] = useState<boolean>(false); // For message box\r\n    const [ totalMessages, setTotalMessages] = useState<number>(0);\r\n    const [ footerCollapse, setFooterCollapse ] = useState<boolean>(true);\r\n    const [filterState, setFilterState] = useState<CascaderValueType | undefined>();\r\n    const [searchState, setSearchState] = useState<string>();\r\n    const [searchData,  setSearchData]  = useState<any>({ keyword: undefined, filter : undefined, });\r\n    const [organizationId, setOrganziationId ] = useState<string>(\"\");\r\n    const { data: totalMessageData, loading : totalMessageLoading, refetch : totalMessageRefetch } = useQuery<LoadMessagesData, LoadMessagesVariables>(\r\n        QUERY_MESSAGES, { \r\n            variables: {\r\n                viewerId: viewer.id || \"\",\r\n            },\r\n            pollInterval: 1000, //Remmeber to set back to 500\r\n            onCompleted: data => {\r\n                setTotalMessages(data.loadMessages.total)\r\n            },\r\n            onError: err => displayErrorMessage(`Không thể tải tin nhắn ${err}`)\r\n        }, \r\n    )\r\n\r\n    const { width } = useWindowDimensions();\r\n\r\n    //Update messages read status\r\n    useEffect(() => {\r\n      if (totalMessageData) setTotalMessages(totalMessageData.loadMessages.total)\r\n    }, [totalMessageData])\r\n    return (\r\n      <>\r\n        <section \r\n          className={isOpen ?  width < 1500 ? \"container__sider-sm\" : \"container\" :  \"container__no-sider\" } \r\n          style={{ backgroundColor: bgColor.container }}\r\n        >\r\n          {isOpen && <SideBar \r\n            viewer={viewer} \r\n            setIsOpen={setIsOpen}/>}\r\n          <AppHeader \r\n            totalMessageLoading={totalMessageLoading}\r\n            isOpen={isOpen}\r\n            totalMessages={totalMessages}\r\n            setViewer={setViewer} \r\n            setDisplayNotification={setDisplayNotification}\r\n            displayNotification={displayNotification}\r\n            setIsOpen={setIsOpen}\r\n            bellRef={bellRef}\r\n            />\r\n          <section className=\"content\">\r\n                <div className=\"content-data\">\r\n                  { isOpen && width < 1500 ? null :\r\n                  <Switch>\r\n                      <Route exact path = '/members'>\r\n                        <div className=\"content__members-table\">\r\n                            <DownloadButton \r\n                              viewer={viewer}\r\n                              filterState={filterState}\r\n                              searchData={searchData}\r\n                              organizationId={organizationId}\r\n                            />\r\n                            <Link className={ width < 700 ? \"content__create-user sm\" : \"content__create-user\"} to=\"/createUser\">Tạo hội viên</Link>\r\n                            <MembersTable \r\n                              viewer={viewer} \r\n                              filterState={filterState}\r\n                              setFilterState={setFilterState}\r\n                              searchState={searchState}\r\n                              setSearchState={setSearchState}\r\n                              searchData={searchData}\r\n                              setSearchData={setSearchData}\r\n                              organizationId={organizationId}\r\n                              setOrganziationId={setOrganziationId}\r\n                            />\r\n                        </div>\r\n                      </Route>\r\n                      <Route exact path = \"/user/:organizationId?/:id\">\r\n                        <div className=\"content__members-profile\">\r\n                          <Profile viewer={viewer}\r\n                          />\r\n                        </div>\r\n                      </Route>\r\n                      <Route exact path = \"/createUser\">\r\n                        <div className=\"content__members-profile\">\r\n                          <CreateUser viewer={viewer} \r\n                          />\r\n                        </div>\r\n                      </Route>\r\n                      <Route exact path = \"/summary\">\r\n                        <div className=\"content__summary\">\r\n                          <Statistics viewer={viewer} />\r\n                        </div>\r\n                      </Route>\r\n                      <Route exact path = \"/editOrganization\">\r\n                        <div className=\"content__members-profile\">\r\n                          <EditOrganization  viewer={viewer} />\r\n                        </div>\r\n                      </Route>\r\n                      <Route path = \"/*\">\r\n                        <div \r\n                          style={{ gridColumn: \"2 / span 2\", gridRow: \"10\" }}\r\n                          className=\"page__error-link\"\r\n                        >\r\n                          <NotFound />\r\n                          <Link className= \"content__create-user\" to=\"/members\">Quay về trang chủ</Link>\r\n                        </div>\r\n                      </Route>\r\n                </Switch>}\r\n                </div>\r\n          </section>\r\n        <footer className={footerCollapse ? \"closed\" : \"openned\" }>\r\n          {footerCollapse ? \r\n            <div \r\n              onClick={() => setFooterCollapse(value => !value)}\r\n              className=\"footer-container\"\r\n              >\r\n                  <div className=\"footer__org-name long\">\r\n                    <h3>HỘI NGƯỜI MÙ THÀNH PHỐ HÀ NỘI</h3>\r\n                    <h3>Copyright © 2021</h3>\r\n                  </div>\r\n            </div> : \r\n            <div \r\n              onClick={() => setFooterCollapse(value => !value)}\r\n              className=\"footer-container\"\r\n              >\r\n                  <div className=\"footer__org-name short\">\r\n                    <h3>Email</h3>\r\n                    <h3>hnmtphanoi@gmail.com</h3>\r\n                  </div>\r\n                  <div className=\"footer__org-name short\">\r\n                      <h3>Điện thoại / Fax</h3>\r\n                    <h3>024-39364422</h3>\r\n                  </div>\r\n                  <div className=\"footer__org-name short\">\r\n                      <h3>Website</h3>\r\n                      <h3>http://www.hnmhanoi.org.vn</h3>\r\n                  </div>\r\n                  <div className=\"footer__org-name short\">\r\n                      <h3>Made by</h3>\r\n                      <h3>Duc Anh</h3>\r\n                  </div>\r\n            </div>\r\n        }\r\n        </footer>\r\n        </section>\r\n        { displayNotification &&  \r\n        <NotificationsBox \r\n            viewer={viewer}\r\n            setDisplayNotification={setDisplayNotification}\r\n            totalMessageRefetch={totalMessageRefetch}\r\n            bellRef={bellRef}\r\n          />}\r\n        </>\r\n    )\r\n\r\n}","export default __webpack_public_path__ + \"static/media/google.b59c2185.svg\";","import { Spin } from \"antd\";\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\nexport const Loading = () => {\r\n\r\n    const antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\r\n    return (\r\n        <div style={{ \r\n            width: '100%',\r\n            height: '100%',\r\n            display: \"flex\", \r\n            alignItems: \"center\",\r\n            justifyContent: \"center\"\r\n        }}>\r\n            <Spin indicator={antIcon}/>\r\n        </div>\r\n    ) \r\n}","import { Card, Layout, Typography } from \"antd\";\r\nimport logo from \"./assets/google.svg\";\r\nimport { Viewer } from \"../../lib\";\r\nimport { useApolloClient, useMutation } from \"@apollo/client\";\r\nimport { AUTH_URL } from \"../../lib/graphql/queries\"\r\nimport { AuthUrl as AuthUrlData} from \"../../lib/graphql/queries/AuthUrl/__generated__/AuthUrl\"\r\nimport { LOG_IN } from \"../../lib/graphql/mutations\";\r\nimport { LogIn as LogInData, LogInVariables } from \"../../lib/graphql/mutations/LogIn/__generated__/LogIn\";\r\nimport { useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Loading } from \"./components\";\r\nimport { displayErrorMessage } from \"../../lib/utils\";\r\nimport logoNHM from \"./assets/logoHNM.jpg\";\r\n\r\nconst { Content } = Layout;\r\nconst { Paragraph } = Typography;\r\n\r\ninterface Props {\r\n    setViewer: (viewer: Viewer) => void;\r\n}\r\nexport const LogIn = ({ setViewer } : Props) => {\r\n    const client = useApolloClient();\r\n\r\n    const [\r\n        logIn, \r\n        {\r\n            data: logInData, loading: logInLoading, error: logInError\r\n        }\r\n    ] = useMutation<LogInData, LogInVariables>(LOG_IN, { \r\n        onCompleted: data => {\r\n            if (data && data.logIn) {\r\n                setViewer(data.logIn);\r\n            }\r\n        }\r\n    });\r\n\r\n    console.log()\r\n    const logInRef = useRef(logIn);\r\n\r\n    useEffect(() => {\r\n        const code = new URL(window.location.href).searchParams.get(\"code\");\r\n        if(code) {\r\n            logInRef.current({\r\n                variables: {\r\n                    input: { code }\r\n                }\r\n            })\r\n        }\r\n    }, [])\r\n\r\n    if (logInLoading) {\r\n        return <Loading />\r\n    }\r\n\r\n    if (logInError) {\r\n        displayErrorMessage(`Không thể login ${logInError}`);\r\n    }\r\n\r\n    if (logInData && logInData.logIn) {\r\n        if (logInData.logIn.registering && logInData.logIn.registering === true) {\r\n            return <Redirect to={\"/pending\"} />\r\n        }\r\n        else if (logInData.logIn.isAdmin === null) {\r\n            return <Redirect to={\"/register\"} />\r\n        } else {\r\n            return <Redirect to={`/summary`} />;\r\n        }\r\n\r\n    }\r\n\r\n    const handleAuthorize = async () => {\r\n        try {\r\n            const { data } = await client.query<AuthUrlData>({\r\n                query: AUTH_URL,\r\n            });\r\n\r\n            window.location.href = data.authUrl;\r\n        } catch (err) {\r\n            throw new Error(\"Cannot get authorize link from google\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Content className=\"log-in__content\">\r\n            <img \r\n                className=\"log-in__big-img\"\r\n                src={logoNHM} alt=\"logo hoi nguoi mu\"/>\r\n            <Card \r\n                style={{\r\n                    border: \"none\"\r\n                }}\r\n                headStyle={{\r\n                    border: \"none\",\r\n                    fontWeight: \"bold\",\r\n                    fontSize: \"1.2rem\"\r\n                }}\r\n                    className=\"log-in__card\" \r\n                    title=\"Quản lý thành viên - Hội người mù thành phố Hà Nội\" \r\n                >\r\n                <Paragraph \r\n                title=\"Hướng dẫn\">\r\n                    Sử dụng Google để login. Bạn sẽ \r\n                    được đưa đến trang đăng ký tài khoản để được cấp quyền quản lý\r\n                </Paragraph>\r\n                <button onClick={handleAuthorize} className=\"login-button__google\">\r\n                    <img \r\n                        style={{\r\n                            marginRight: 10\r\n                        }}\r\n                    src={logo} alt=\"Google icon\"></img>\r\n                    <span className=\"login-button__google-text\">Đăng nhập bằng google</span>\r\n                </button>\r\n            </Card>\r\n        </Content>\r\n    )\r\n}","export default \"data:image/jpeg;base64,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\"","export default __webpack_public_path__ + \"static/media/bg.def439b8.jpg\";","import { Button, Spin, Divider } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport { useEffect } from 'react';\r\nexport const Pending =  ({setViewer} : { setViewer : any}) => {\r\n    const antIcon = <LoadingOutlined style={{ fontSize: 50 }} spin />;\r\n\r\n    const handleOnClick = () => {\r\n        window.location.href = \"/login\";\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        return () => {\r\n                setViewer({\r\n                id: null,\r\n                name: null,\r\n                token: null,\r\n                avatar : null,\r\n                isAdmin : false, \r\n                organization_id : null,\r\n                didRequest : true,\r\n                registering: true\r\n            })\r\n        }\r\n    })\r\n\r\n    return <div className=\"pending__container\">\r\n        <div className=\"pending__text-container\">\r\n            <h1>Hãy đăng nhập lại vào lần sau</h1>\r\n            <h3>Tài khoản này đang chờ admin xét duyệt</h3>\r\n            <Divider />\r\n            <Spin indicator={antIcon} />\r\n            <Divider />\r\n            <Divider />\r\n            <Button onClick={handleOnClick}>Quay lại trang đăng nhập</Button>\r\n        </div>\r\n    </div>\r\n}","import { Select, Button, Layout, Form, Typography, Input, Divider } from \"antd\";\r\nimport { Viewer } from \"../../lib\"\r\nimport { useMutation, useQuery } from \"@apollo/client\";\r\nimport { QUERY_ORGANIZATIONS } from \"../../lib/graphql/queries\";\r\nimport { Organizations as OrganizationsData } from \"../../lib/graphql/queries/Organizations/__generated__/Organizations\";\r\nimport { useEffect, useState } from \"react\";\r\nimport bg from \"./assets/bg.jpg\"\r\nimport { Pending } from \"../Pending\";\r\nimport { HandleMessage as HandleMessageData, HandleMessageVariables } from \"../../lib/graphql/mutations/HandleMessageFromClient/__generated__/HandleMessage\";\r\nimport { HANDLE_MESSSAGE } from \"../../lib/graphql/mutations/HandleMessageFromClient\";\r\nimport { displayErrorMessage } from \"../../lib/utils\";\r\nimport { MessageType, ServerMessageAction } from \"../../lib/graphql/globalTypes\";\r\n\r\nconst { Title, Text } = Typography;\r\nconst { Item } = Form;\r\n\r\ninterface Props {\r\n    viewer: Viewer;\r\n    setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\n\r\nexport const Register = ({ viewer, setViewer } : Props) => {\r\n    const [organizations, setOrganizations] = useState<any>([])\r\n    useQuery<OrganizationsData>(QUERY_ORGANIZATIONS, {\r\n        onCompleted: data => setOrganizations(data.organizations.results)\r\n    })\r\n\r\n    const [handleMessage, { data : handleMessageData, loading : handleMessageLoading, error : handleMessageError }] = useMutation<HandleMessageData, \r\n    HandleMessageVariables>(HANDLE_MESSSAGE, {\r\n        onError: err => displayErrorMessage(`Không thể thực hiện thao tác ${err}`)\r\n    });\r\n\r\n    const [formState, setFormState] = useState<boolean>(false); \r\n    //true is input, false is select, or input on top\r\n    const [inputState, setInputState]   = useState<string>(\"\");\r\n    const [selectState, setSelectState] = useState<string>(\"\");\r\n    const [formComplete, setFormComplete] = useState<boolean>(false);\r\n\r\n    useEffect(() => {\r\n        if (handleMessageData?.handleMessageFromClient === \"true\" && !handleMessageError) {\r\n            setFormComplete(true);\r\n        }\r\n    }, [handleMessageData, handleMessageError])\r\n\r\n    const item = formState ?\r\n        <Item key=\"new_organization\" label=\"Tên thành viên hội người mù mới\" name=\"organization_name\" rules={\r\n        [\r\n            {\r\n                required: true,\r\n                message: \"Đăng ký tên thành viên hội người mù mới\"\r\n            },\r\n            () => ({\r\n                validator(_ : any, value : string) {\r\n                    const excludeWords = [\r\n                        \"Thành phố\", \"TP\", \"Hội Người mù\",\r\n                        \"Thanh pho\", \"Hoi Nguoi mu\",\r\n                    ]\r\n                    let reject = false;\r\n                    for (const word of excludeWords) {\r\n                        if(value.toLowerCase().includes(word.toLowerCase())) {\r\n                            reject = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (reject) {\r\n                        return Promise.reject(\r\n                            new Error(\"Chỉ điền tên thành viên. Ví dụ: Hội người mù quận Thanh Xuân, điền Thanh Xuân\")\r\n                        )\r\n                    }\r\n                    return Promise.resolve()\r\n                },\r\n            })\r\n        ]\r\n        }>\r\n        <Input \r\n            size={\"large\"}\r\n            onChange={e => setInputState(e.target.value)}\r\n            value={inputState}\r\n            placeholder=\"Hội người mù quận Thanh Xuân...\" />\r\n        </Item> \r\n        : \r\n        <Item \r\n            key=\"exist_organization\" \r\n            label=\"Chọn hội thành viên\" \r\n            name=\"organization_id\"\r\n            rules={\r\n            [\r\n                {\r\n                    required: true,\r\n                    message: `Chọn tên thành viên`\r\n                }\r\n            ]\r\n            }\r\n        >\r\n            <Select\r\n                size={\"large\"}\r\n                value={selectState}\r\n                showSearch={true}\r\n                placeholder={`Chọn thành viên đã có`}\r\n                onChange={ value => setSelectState(value)}\r\n            >\r\n                { (() => {\r\n                    const options : any[] = []\r\n                    organizations &&\r\n                        organizations.forEach(\r\n                            (item : any) => {\r\n                                options.push(<Select.Option key={item._id} value={`${item._id}-${item.name}`}>{item.name}</Select.Option>)\r\n                            }\r\n                        )\r\n\r\n                    return options\r\n                    })() //Create func above and call the func here\r\n                }\r\n            </Select>\r\n        </Item>\r\n\r\n    const handleRegister = (values : any) => {\r\n        const registeringPerson : HandleMessageVariables[\"input\"] = {\r\n            action: ServerMessageAction.REQUEST,\r\n            type: MessageType.REGISTER,\r\n            from_id: viewer.id || \"\",\r\n            to_organizationId: \"\",\r\n            content: \"\"\r\n        }\r\n\r\n        if (formState) {\r\n            registeringPerson[\"content\"]            = `create-${inputState}`\r\n        } else {\r\n            //Ex: ThanhXuân-Thanh Xuân\r\n            const orgId = values.organization_id.split(\"-\")[0];\r\n            registeringPerson[\"content\"]            = `exist-${orgId}`\r\n        }\r\n\r\n        handleMessage(\r\n            {\r\n                variables: {\r\n                    input: registeringPerson\r\n                }\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    if (formComplete || viewer.registering === true) {\r\n        return <Pending setViewer={setViewer} />\r\n    }\r\n\r\n    return (\r\n        <Layout style={{\r\n            height: '100%',\r\n            width: '100%',\r\n            flexDirection: 'row',\r\n            alignItems: 'center',\r\n            backgroundColor: \"white\"\r\n        }}>\r\n            <div className=\"register__img-container\">\r\n                <h3>Đăng ký thành viên mới hoặc chọn thành viên đã có để tạo tài khoản</h3>\r\n\r\n                <img alt=\"Anh dai dien khong quan trọng\"\r\n                    src={bg} \r\n                />\r\n            </div>\r\n            \r\n            <div className=\"register__form-container\">\r\n                <Form layout=\"vertical\" onFinish={handleRegister}>\r\n                    <div className=\"register__form-header\">\r\n                        <Title level={3} className=\"register__form-title\">\r\n                            Chọn thành viên hoặc tạo mới\r\n                        </Title>\r\n                        <Text type=\"secondary\">\r\n                            Điền thêm thông tin về tên thành viên, địa chỉ để được cấp quyền quản lý từ admin\r\n                        </Text>\r\n                    </div>\r\n                        <Item>\r\n                            <Button className=\"register__form-submit-button\"\r\n                                style={{\r\n                                    width: \"100%\",\r\n                                }}\r\n                                type=\"primary\" onClick={\r\n                                () => setFormState(state => !state)\r\n                            }>{formState ? \"Chọn thành viên đã có\" : \"Tạo thành viên mới\"}</Button>\r\n                        </Item>\r\n                        <Divider />\r\n                        {item}\r\n                            {/* Only copy viewer and update here to list the organizations */}\r\n                        <Item>\r\n                            <Button \r\n                                loading={handleMessageLoading}\r\n                                className=\"register__form-submit-button\"\r\n                                type=\"primary\" \r\n                                htmlType=\"submit\">Submit</Button>\r\n                        </Item>\r\n                </Form> \r\n            </div>\r\n    </Layout>\r\n    )\r\n}","import ReactDOM from 'react-dom';\r\nimport './index.less';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  HttpLink,\r\n  ApolloLink,\r\n  concat,\r\n  useMutation,\r\n} from \"@apollo/client\"; \r\nimport { Viewer } from './lib';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { Pending, LogIn, NotFound, Page, Register } from './sections';\r\nimport { LOG_IN } from './lib/graphql/mutations';\r\nimport { LogIn as LogInData, LogInVariables} from \"./lib/graphql/mutations/LogIn/__generated__/LogIn\";\r\nimport { Loading } from './sections/LogIn/components';\r\nimport { useWindowDimensions } from './sections/Page/utils';\r\n\r\n\r\nconst httpLink  = new HttpLink({ uri : '/api'});\r\nconst authMiddleware = new ApolloLink((operation, forward) => {\r\n  const token = sessionStorage.getItem(\"token\");\r\n  operation.setContext({\r\n    headers: {\r\n      'X-CSRF-TOKEN' : token || \"\"\r\n    }\r\n  });\r\n\r\n  return forward(operation);\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  cache: new InMemoryCache(),\r\n  link: concat(authMiddleware, httpLink)\r\n});\r\n\r\nconst initialViewer : Viewer = {\r\n  id: null,\r\n  name: null,\r\n  token: null,\r\n  avatar : null,\r\n  isAdmin : null, \r\n  organization_id : null,\r\n  didRequest : false,\r\n  registering: null\r\n}\r\n\r\n\r\nconst App = () => {\r\n  const [viewer, setViewer] = useState<Viewer>(initialViewer);\r\n  const { width } = useWindowDimensions();\r\n\r\n  const [isOpen, setIsOpen] = useState<boolean>(width > 1100);\r\n\r\n  useEffect(() => {\r\n    setIsOpen(width > 1500);\r\n  },[width])\r\n  \r\n  const [login, { error }] = useMutation<LogInData, LogInVariables>(LOG_IN, { \r\n    onCompleted: data => {\r\n      if (data && data.logIn) {\r\n        setViewer(data.logIn);\r\n      }\r\n    }\r\n  });\r\n\r\n  const logInRef = useRef(login);\r\n\r\n  useEffect(() => {\r\n    logInRef.current();\r\n  }, []);\r\n\r\n  if (!viewer.didRequest && !error) {\r\n    return (\r\n      <Loading />\r\n    )\r\n  }\r\n  return ( \r\n    <Router>\r\n      {/* Rember to change the line below to === */}\r\n      { viewer.id === null && !viewer.token ? //Initially, this person can only use login with google \r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <LogIn setViewer={setViewer}/>\r\n          </Route>\r\n          <Route exact path = \"/login\">\r\n            <LogIn setViewer={setViewer}/>\r\n          </Route> \r\n          <Route exact path = \"/*\">\r\n            <NotFound />\r\n          </Route> \r\n        </Switch> : \r\n        // Already set normal people isAdmin to false or real admin to true, must not be null\r\n        viewer.token && ( ( viewer.registering === true && viewer.isAdmin === false)  || viewer.isAdmin === null) ?\r\n        <Switch>\r\n          <Route exact path = \"/pending\">\r\n            <Pending setViewer={setViewer} />\r\n          </Route> \r\n          <Route exact path = \"/login\">\r\n            <LogIn setViewer={setViewer}/>\r\n          </Route> \r\n          <Route exact path = \"/register\">\r\n            <Register setViewer={setViewer} viewer={viewer}/>\r\n          </Route> \r\n          <Route exact path = \"/*\">\r\n            <NotFound />\r\n          </Route> \r\n        </Switch> :\r\n        <Page \r\n            setIsOpen={setIsOpen} \r\n            isOpen={isOpen}\r\n            viewer={viewer} \r\n            setViewer={setViewer}/>\r\n        }\r\n    </Router>\r\n  )\r\n\r\n}\r\n\r\nReactDOM.render(\r\n  <ApolloProvider client={client}>\r\n    <App />\r\n  </ApolloProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}